<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Holistic Assistant: ä¸€ä¸ªé¢å‘ 1500+ å­¦ç”Ÿçš„ RAG å­¦æœ¯é¡¾é—®ç³»ç»Ÿ â€” ä»ä¿¡æ¯ç¢ç‰‡åŒ–åˆ°ç»“æ„åŒ–å†³ç­– | JerryL&#39;s Journey of CS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="TL;DR: è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŸºäº Hybrid Context RAG çš„å­¦æœ¯é¡¾é—®ç³»ç»Ÿï¼Œæ•´åˆåˆ†æ•£åœ¨ 36 ä»½åŸ¹å…»æ–¹æ¡ˆ PDF å’Œå­¦æ ¡ SIS ç³»ç»Ÿçš„è¯¾ç¨‹æ•°æ®ï¼ˆ1568 é—¨è¯¾ç¨‹ Ã— 3 å­¦æœŸï¼‰ï¼Œä¸º CUHK-SZ å­¦ç”Ÿæä¾›åŸºäºå®˜æ–¹æ•°æ®çš„ 24&#x2F;7 ä¸ªæ€§åŒ–è¯¾ç¨‹å’¨è¯¢ã€‚æ ¸å¿ƒæŠ€æœ¯æŒ‘æˆ˜åŒ…æ‹¬ï¼šPDF éç»“æ„åŒ–æ•°æ®æå–ï¼ˆGemini å»å™ª + æ­£åˆ™å€™é€‰ï¼‰ã€SIS åçˆ¬ç­–ç•¥è§„é¿ï¼ˆä¼šè¯æŒä¹…åŒ– + èŠ‚æµï¼‰ã€">
<meta property="og:type" content="article">
<meta property="og:title" content="Holistic Assistant: ä¸€ä¸ªé¢å‘ 1500+ å­¦ç”Ÿçš„ RAG å­¦æœ¯é¡¾é—®ç³»ç»Ÿ â€” ä»ä¿¡æ¯ç¢ç‰‡åŒ–åˆ°ç»“æ„åŒ–å†³ç­–">
<meta property="og:url" content="https://jerry0310no1.github.io/2025/12/24/holistic-assistant-case-study/index.html">
<meta property="og:site_name" content="JerryL&#39;s Journey of CS">
<meta property="og:description" content="TL;DR: è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŸºäº Hybrid Context RAG çš„å­¦æœ¯é¡¾é—®ç³»ç»Ÿï¼Œæ•´åˆåˆ†æ•£åœ¨ 36 ä»½åŸ¹å…»æ–¹æ¡ˆ PDF å’Œå­¦æ ¡ SIS ç³»ç»Ÿçš„è¯¾ç¨‹æ•°æ®ï¼ˆ1568 é—¨è¯¾ç¨‹ Ã— 3 å­¦æœŸï¼‰ï¼Œä¸º CUHK-SZ å­¦ç”Ÿæä¾›åŸºäºå®˜æ–¹æ•°æ®çš„ 24&#x2F;7 ä¸ªæ€§åŒ–è¯¾ç¨‹å’¨è¯¢ã€‚æ ¸å¿ƒæŠ€æœ¯æŒ‘æˆ˜åŒ…æ‹¬ï¼šPDF éç»“æ„åŒ–æ•°æ®æå–ï¼ˆGemini å»å™ª + æ­£åˆ™å€™é€‰ï¼‰ã€SIS åçˆ¬ç­–ç•¥è§„é¿ï¼ˆä¼šè¯æŒä¹…åŒ– + èŠ‚æµï¼‰ã€">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-12-24T06:00:00.000Z">
<meta property="article:modified_time" content="2025-12-24T09:59:14.664Z">
<meta property="article:author" content="JiaRUI Lou">
<meta property="article:tag" content="Flask">
<meta property="article:tag" content="Gemini">
<meta property="article:tag" content="Information Retrieval">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="Playwright">
<meta property="article:tag" content="RAG">
<meta property="article:tag" content="System Design">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="JerryL's Journey of CS" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 8.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">JerryL&#39;s Journey of CS</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">CS Freshman @ CHUHKSZ</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/projects">Projects</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jerry0310no1.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-holistic-assistant-case-study" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/12/24/holistic-assistant-case-study/" class="article-date">
  <time class="dt-published" datetime="2025-12-24T06:00:00.000Z" itemprop="datePublished">2025-12-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Technical-Case-Study/">Technical Case Study</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Holistic Assistant: ä¸€ä¸ªé¢å‘ 1500+ å­¦ç”Ÿçš„ RAG å­¦æœ¯é¡¾é—®ç³»ç»Ÿ â€” ä»ä¿¡æ¯ç¢ç‰‡åŒ–åˆ°ç»“æ„åŒ–å†³ç­–
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>TL;DR</strong>: è®¾è®¡å¹¶å®ç°äº†ä¸€ä¸ªåŸºäº Hybrid Context RAG çš„å­¦æœ¯é¡¾é—®ç³»ç»Ÿï¼Œæ•´åˆåˆ†æ•£åœ¨ 36 ä»½åŸ¹å…»æ–¹æ¡ˆ PDF å’Œå­¦æ ¡ SIS ç³»ç»Ÿçš„è¯¾ç¨‹æ•°æ®ï¼ˆ1568 é—¨è¯¾ç¨‹ Ã— 3 å­¦æœŸï¼‰ï¼Œä¸º CUHK-SZ å­¦ç”Ÿæä¾›åŸºäºå®˜æ–¹æ•°æ®çš„ 24&#x2F;7 ä¸ªæ€§åŒ–è¯¾ç¨‹å’¨è¯¢ã€‚æ ¸å¿ƒæŠ€æœ¯æŒ‘æˆ˜åŒ…æ‹¬ï¼šPDF éç»“æ„åŒ–æ•°æ®æå–ï¼ˆGemini å»å™ª + æ­£åˆ™å€™é€‰ï¼‰ã€SIS åçˆ¬ç­–ç•¥è§„é¿ï¼ˆä¼šè¯æŒä¹…åŒ– + èŠ‚æµï¼‰ã€ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ï¼ˆæŒ‰å­¦æœŸåˆ†ç‰‡ JSONï¼‰ã€ä»¥åŠ Windows ç¯å¢ƒä¸‹çš„ multiprocessing å…¼å®¹æ€§ã€‚</p>
<span id="more"></span>

<hr>
<h2 id="ğŸ“Œ-Problem-Statementï¼šä¿¡æ¯æ£€ç´¢çš„åŒé‡æŒ‘æˆ˜"><a href="#ğŸ“Œ-Problem-Statementï¼šä¿¡æ¯æ£€ç´¢çš„åŒé‡æŒ‘æˆ˜" class="headerlink" title="ğŸ“Œ Problem Statementï¼šä¿¡æ¯æ£€ç´¢çš„åŒé‡æŒ‘æˆ˜"></a>ğŸ“Œ Problem Statementï¼šä¿¡æ¯æ£€ç´¢çš„åŒé‡æŒ‘æˆ˜</h2><h3 id="èƒŒæ™¯ï¼šä¿¡æ¯æ¶æ„çš„ç¢ç‰‡åŒ–"><a href="#èƒŒæ™¯ï¼šä¿¡æ¯æ¶æ„çš„ç¢ç‰‡åŒ–" class="headerlink" title="èƒŒæ™¯ï¼šä¿¡æ¯æ¶æ„çš„ç¢ç‰‡åŒ–"></a>èƒŒæ™¯ï¼šä¿¡æ¯æ¶æ„çš„ç¢ç‰‡åŒ–</h3><p>åœ¨ CUHK-SZï¼Œå­¦ç”Ÿåšå‡ºé€‰è¯¾å†³ç­–æ—¶éœ€è¦æ•´åˆæ¥è‡ª<strong>ä¸¤ä¸ªäº’ä¸å…¼å®¹ç³»ç»Ÿ</strong>çš„æ•°æ®ï¼š</p>
<ol>
<li><p><strong>éç»“æ„åŒ–æ¥æº</strong>ï¼ˆåŸ¹å…»æ–¹æ¡ˆ PDFï¼‰ï¼š</p>
<ul>
<li>36 ä»½ä¸“ä¸šåŸ¹å…»æ–¹æ¡ˆï¼Œæ¯ä»½ 30-50 é¡µï¼Œè¦†ç›– 1500+ è¯¾ç¨‹ä»£å·</li>
<li>æ’ç‰ˆä¸ä¸€è‡´ï¼ˆè¡¨æ ¼&#x2F;åˆ—è¡¨&#x2F;è‡ªç”±æ–‡æœ¬æ··åˆï¼‰ï¼Œå­˜åœ¨å¤§é‡å™ªå£°ï¼ˆå¦‚æ—¥æœŸ â€œAPRIL2024â€ã€å­¦æœŸè¯ â€œSPRINGâ€ï¼‰</li>
<li>æä¾›è¯¾ç¨‹æ¸…å•ï¼Œä½†<strong>æ— ç®€ä»‹ã€å­¦åˆ†ã€å…ˆä¿®è¦æ±‚</strong></li>
</ul>
</li>
<li><p><strong>åŠç»“æ„åŒ–æ¥æº</strong>ï¼ˆSIS ç³»ç»Ÿï¼‰ï¼š</p>
<ul>
<li>åŒ…å«è¯¦ç»†çš„å¼€è¯¾ä¿¡æ¯ï¼ˆæ—¶é—´&#x2F;åœ°ç‚¹&#x2F;è€å¸ˆï¼‰å’Œè¯¾ç¨‹å®šä¹‰ï¼ˆç®€ä»‹&#x2F;å­¦åˆ†&#x2F;å…ˆä¿®ï¼‰</li>
<li>ä½†åªå±•ç¤º<strong>å½“å‰å­¦æœŸ</strong>å¼€æ”¾è¯¾ç¨‹ï¼Œå†å²æ•°æ®æ— æ³•æ‰¹é‡è·å–</li>
<li>æ—  APIï¼Œéœ€é€šè¿‡æµè§ˆå™¨äº¤äº’æŠ“å–ï¼Œä¸”æœ‰åçˆ¬é™åˆ¶ï¼ˆsession è¿‡æœŸã€é¢‘ç‡é™åˆ¶ï¼‰</li>
</ul>
</li>
</ol>
<h3 id="æ ¸å¿ƒçŸ›ç›¾ï¼šè¯¾ç¨‹å®šä¹‰ä¸å¼€è¯¾ä¿¡æ¯çš„è„±èŠ‚"><a href="#æ ¸å¿ƒçŸ›ç›¾ï¼šè¯¾ç¨‹å®šä¹‰ä¸å¼€è¯¾ä¿¡æ¯çš„è„±èŠ‚" class="headerlink" title="æ ¸å¿ƒçŸ›ç›¾ï¼šè¯¾ç¨‹å®šä¹‰ä¸å¼€è¯¾ä¿¡æ¯çš„è„±èŠ‚"></a>æ ¸å¿ƒçŸ›ç›¾ï¼šè¯¾ç¨‹å®šä¹‰ä¸å¼€è¯¾ä¿¡æ¯çš„è„±èŠ‚</h3><ul>
<li><strong>é—®é¢˜ 1</strong>ï¼šåŸ¹å…»æ–¹æ¡ˆå‘Šè¯‰å­¦ç”Ÿâ€éœ€è¦ä¸Š CSC3100â€ï¼Œä½†ä¸çŸ¥é“è¿™é—¨è¯¾ä½•æ—¶å¼€ã€å…ˆä¿®æ˜¯ä»€ä¹ˆ</li>
<li><strong>é—®é¢˜ 2</strong>ï¼šSIS å±•ç¤º â€œCSC3100 æœ¬å­¦æœŸå¼€ 2 ä¸ª sectionâ€ï¼Œä½†ä¸çŸ¥é“å®ƒåœ¨åŸ¹å…»æ–¹æ¡ˆä¸­çš„åœ°ä½ï¼ˆå¿…ä¿®&#x2F;é€‰ä¿®ï¼Ÿå“ªä¸ªæ¨¡å—ï¼Ÿï¼‰</li>
<li><strong>é—®é¢˜ 3</strong>ï¼šå­¦ç”Ÿéœ€è¦æ‰‹åŠ¨æ‰“å¼€ 10+ ä¸ªæ ‡ç­¾é¡µäº¤å‰æ¯”å¯¹ï¼Œå¹³å‡è€—æ—¶ 45 åˆ†é’Ÿ&#x2F;è¯¾ç¨‹</li>
</ul>
<h3 id="ç³»ç»Ÿè®¾è®¡ç›®æ ‡"><a href="#ç³»ç»Ÿè®¾è®¡ç›®æ ‡" class="headerlink" title="ç³»ç»Ÿè®¾è®¡ç›®æ ‡"></a>ç³»ç»Ÿè®¾è®¡ç›®æ ‡</h3><p>æ„å»ºä¸€ä¸ª<strong>ä¿¡æ¯æ£€ç´¢ç³»ç»Ÿ</strong>ï¼Œèƒ½å¤Ÿï¼š</p>
<ol>
<li>ä»éç»“æ„åŒ– PDF ä¸­æå–ç»“æ„åŒ–è¯¾ç¨‹æ¸…å•ï¼ˆå‡†ç¡®ç‡ &gt; 95%ï¼‰</li>
<li>è‡ªåŠ¨åŒ–æŠ“å– SIS å¤šå­¦æœŸæ•°æ®ï¼ˆè¦†ç›– 3 å­¦æœŸ Ã— 1568 è¯¾ç¨‹ï¼‰</li>
<li>å°†ä¸¤ç±»æ¥æºæ•´åˆæˆç»Ÿä¸€ Knowledge Baseï¼Œä¾› RAG ç³»ç»ŸæŸ¥è¯¢</li>
<li>æä¾› &lt;2s å“åº”æ—¶é—´çš„è‡ªç„¶è¯­è¨€é—®ç­”æ¥å£</li>
</ol>
<p><strong>çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li>å¿…é¡»ä½¿ç”¨å®˜æ–¹æ•°æ®æºï¼ˆé¿å…ç‰ˆæƒ&#x2F;éšç§é£é™©ï¼‰</li>
<li>æœ¬åœ°éƒ¨ç½²ï¼ˆå­¦æ ¡ç½‘ç»œæ— æ³•è®¿é—®å¤–éƒ¨ APIï¼‰</li>
<li>Windows ç¯å¢ƒï¼ˆå½±å“ multiprocessing å’Œè·¯å¾„å¤„ç†ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸ”§-Technical-Challengesï¼šä¸‰ä¸ªæ ¸å¿ƒéš¾é¢˜"><a href="#ğŸ”§-Technical-Challengesï¼šä¸‰ä¸ªæ ¸å¿ƒéš¾é¢˜" class="headerlink" title="ğŸ”§ Technical Challengesï¼šä¸‰ä¸ªæ ¸å¿ƒéš¾é¢˜"></a>ğŸ”§ Technical Challengesï¼šä¸‰ä¸ªæ ¸å¿ƒéš¾é¢˜</h2><h3 id="Challenge-1-éç»“æ„åŒ–-PDF-æ•°æ®æå–çš„ç²¾åº¦é—®é¢˜"><a href="#Challenge-1-éç»“æ„åŒ–-PDF-æ•°æ®æå–çš„ç²¾åº¦é—®é¢˜" class="headerlink" title="Challenge 1: éç»“æ„åŒ– PDF æ•°æ®æå–çš„ç²¾åº¦é—®é¢˜"></a>Challenge 1: éç»“æ„åŒ– PDF æ•°æ®æå–çš„ç²¾åº¦é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°</strong>ï¼š<br>çº¯æ­£åˆ™è¡¨è¾¾å¼ <code>\b([A-Z]{2,5})\s?(\d{4})\b</code> åœ¨ 36 ä»½ PDF ä¸Šäº§ç”Ÿ 40% è¯¯æŠ¥ç‡ï¼ˆfalse positiveï¼‰ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ—¥æœŸè¯ï¼ˆ<code>APRIL2024</code>, <code>JAN2025</code>ï¼‰</li>
<li>å­¦æœŸè¯ï¼ˆ<code>SPRING</code>, <code>FALL</code>ï¼‰</li>
<li>éšæœºç¼©å†™ï¼ˆ<code>TOTAL</code>, <code>APRIL</code>ï¼‰</li>
</ul>
<p><strong>å¤±è´¥å°è¯•</strong>ï¼š</p>
<ul>
<li>æ–¹æ¡ˆ Aï¼šæ‰‹å·¥ç»´æŠ¤é»‘åå• â†’ æ— æ³•è¦†ç›–æ‰€æœ‰ corner case</li>
<li>æ–¹æ¡ˆ Bï¼šOCR + å¸ƒå±€åˆ†æ â†’ PDF æ˜¯æ–‡æœ¬æ ¼å¼ï¼ŒOCR å¼•å…¥é¢å¤–é”™è¯¯</li>
</ul>
<p><strong>æœ€ç»ˆæ–¹æ¡ˆ</strong>ï¼š<strong>æ­£åˆ™å€™é€‰ + Gemini å»å™ª</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€é˜¶æ®µï¼šæ­£åˆ™æå–å€™é€‰ï¼ˆå¬å›ç‡ä¼˜å…ˆï¼‰</span></span><br><span class="line">candidates = re.findall(<span class="string">r&quot;\b([A-Z]&#123;2,5&#125;)\s?(\d&#123;4&#125;)\b&quot;</span>, pdf_text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒé˜¶æ®µï¼šGemini è¿‡æ»¤ï¼ˆç²¾ç¡®ç‡ä¼˜å…ˆï¼‰</span></span><br><span class="line">prompt = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Given candidate codes: <span class="subst">&#123;candidates&#125;</span></span></span><br><span class="line"><span class="string">Filter out non-course codes (dates, seasons, random words).</span></span><br><span class="line"><span class="string">Output only valid CUHK course codes in JSON array.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">valid_codes = gemini_api.generate(prompt)</span><br></pre></td></tr></table></figure>

<p><strong>ç»“æœ</strong>ï¼šè¯¯æŠ¥ç‡ä» 40% â†’ 5%ï¼Œä¸”å¯æ‰©å±•åˆ°æ–°ä¸“ä¸š PDFï¼ˆæ— éœ€é‡å†™è§„åˆ™ï¼‰</p>
<h3 id="Challenge-2-SIS-åçˆ¬ç­–ç•¥ä¸-Windows-å…¼å®¹æ€§"><a href="#Challenge-2-SIS-åçˆ¬ç­–ç•¥ä¸-Windows-å…¼å®¹æ€§" class="headerlink" title="Challenge 2: SIS åçˆ¬ç­–ç•¥ä¸ Windows å…¼å®¹æ€§"></a>Challenge 2: SIS åçˆ¬ç­–ç•¥ä¸ Windows å…¼å®¹æ€§</h3><p><strong>é—®é¢˜æè¿°</strong>ï¼š<br>SIS é‡‡ç”¨ PeopleSoft æ¶æ„ï¼Œå…·æœ‰ä»¥ä¸‹åçˆ¬ç‰¹å¾ï¼š</p>
<ul>
<li>Session ç»‘å®š IP + User-Agentï¼Œ15 åˆ†é’Ÿæ— æ“ä½œåˆ™è¿‡æœŸ</li>
<li>é¢‘ç¹è¯·æ±‚è§¦å‘ Captchaï¼ˆé˜ˆå€¼çº¦ 100 req&#x2F;minï¼‰</li>
<li>ä¸‹æ‹‰æ¡†é€‰é¡¹åŠ¨æ€åŠ è½½ï¼ˆéœ€ç­‰å¾… DOM æ›´æ–°ï¼‰</li>
</ul>
<p><strong>æŠ€æœ¯å†³ç­–</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
<th>é€‰æ‹©</th>
</tr>
</thead>
<tbody><tr>
<td>Selenium</td>
<td>ç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£å…¨</td>
<td>èµ„æºå ç”¨é«˜ï¼ˆæ¯å®ä¾‹ ~200MBï¼‰</td>
<td>âŒ</td>
</tr>
<tr>
<td>Playwright</td>
<td>è½»é‡ï¼Œæ”¯æŒ headless</td>
<td>API è¾ƒæ–°ï¼Œè°ƒè¯•å¤æ‚</td>
<td>âœ…</td>
</tr>
<tr>
<td>Requests + BeautifulSoup</td>
<td>æœ€å¿«</td>
<td>æ— æ³•å¤„ç† JS æ¸²æŸ“</td>
<td>âŒ</td>
</tr>
</tbody></table>
<p><strong>å…³é”®å®ç°</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¼šè¯æŒä¹…åŒ–ï¼ˆé¿å…é‡å¤ç™»å½•ï¼‰</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">save_session</span>():</span><br><span class="line">    <span class="keyword">await</span> context.storage_state(path=<span class="string">&quot;sis_storage_state.json&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># èŠ‚æµç­–ç•¥ï¼ˆé¿å…è§¦å‘ Captchaï¼‰</span></span><br><span class="line"><span class="keyword">await</span> asyncio.sleep(<span class="number">0.6</span>)  <span class="comment"># æ¯æ¬¡æœç´¢é—´éš” 600ms</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows multiprocessing ä¿®å¤ï¼ˆé¡¶å±‚å‡½æ•° + Pipe IPCï¼‰</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_mp_runner_send_via_pipe</span>(<span class="params">prompt, timeout, pipe</span>):</span><br><span class="line">    result = gemini_api.generate(prompt)</span><br><span class="line">    pipe.send(result)</span><br></pre></td></tr></table></figure>

<p><strong>ç»“æœ</strong>ï¼šåœ¨ 24 å°æ—¶å†…å®Œæˆ 1568 Ã— 3 &#x3D; 4704 æ¬¡æœç´¢ï¼Œæ—  IP å°ç¦ï¼ŒæˆåŠŸç‡ 99.2%</p>
<h3 id="Challenge-3-ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ä¸å¤šå­¦æœŸæ•°æ®èšåˆ"><a href="#Challenge-3-ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ä¸å¤šå­¦æœŸæ•°æ®èšåˆ" class="headerlink" title="Challenge 3: ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ä¸å¤šå­¦æœŸæ•°æ®èšåˆ"></a>Challenge 3: ä¸Šä¸‹æ–‡çª—å£ç®¡ç†ä¸å¤šå­¦æœŸæ•°æ®èšåˆ</h3><p><strong>é—®é¢˜æè¿°</strong>ï¼š<br>Gemini 2.5 Flash ä¸Šä¸‹æ–‡çª—å£ä¸º 128K tokensï¼Œä½†å•ä¸ªè¯¾ç¨‹çš„å®Œæ•´ä¿¡æ¯å¯èƒ½åŒ…å«ï¼š</p>
<ul>
<li>åŸ¹å…»æ–¹æ¡ˆæè¿°ï¼š~500 tokens</li>
<li>3 å­¦æœŸ SIS æ•°æ®ï¼šæ¯å­¦æœŸ 3-5 ä¸ª section Ã— 200 tokens &#x3D; ~3000 tokens</li>
<li>ç”¨æˆ·å†å²å¯¹è¯ï¼š~1000 tokens</li>
</ul>
<p>å¦‚æœæŒ‰â€å…¨é‡æ³¨å…¥â€ç­–ç•¥ï¼Œ10 è½®å¯¹è¯åå°†è¶…å‡ºçª—å£é™åˆ¶ã€‚</p>
<p><strong>æ¶æ„è®¾è®¡</strong>ï¼š<strong>æŒ‰å­¦æœŸåˆ†ç‰‡ + æ‡’åŠ è½½</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">knowledge_base/courses_sis_detail/</span><br><span class="line">  courses/</span><br><span class="line">    CSC1001/</span><br><span class="line">      terms/</span><br><span class="line">        2510/metadata.json  # 2025-26 ç¬¬ä¸€å­¦æœŸ</span><br><span class="line">        2520/metadata.json  # 2025-26 ç¬¬äºŒå­¦æœŸ</span><br><span class="line">        2650/metadata.json  # 2026-27 æš‘æœŸå­¦æœŸ</span><br></pre></td></tr></table></figure>

<p><strong>Hybrid Context ç»„è£…é€»è¾‘</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_context</span>(<span class="params">course_code, user_query, user_history</span>):</span><br><span class="line">    <span class="comment"># 1. è¯†åˆ«æŸ¥è¯¢æ„å›¾</span></span><br><span class="line">    intent = detect_intent(user_query)  <span class="comment"># &quot;prerequisite&quot; / &quot;schedule&quot; / &quot;difficulty&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 2. é€‰æ‹©æ€§åŠ è½½å­¦æœŸæ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;when&quot;</span> <span class="keyword">in</span> intent <span class="keyword">or</span> <span class="string">&quot;schedule&quot;</span> <span class="keyword">in</span> intent:</span><br><span class="line">        terms = [<span class="string">&quot;2510&quot;</span>, <span class="string">&quot;2520&quot;</span>]  <span class="comment"># åªåŠ è½½è¿‘æœŸå­¦æœŸ</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        terms = [<span class="string">&quot;2510&quot;</span>]  <span class="comment"># é»˜è®¤æœ€æ–°å­¦æœŸ</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 3. ç»„è£…æœ€å°ä¸Šä¸‹æ–‡</span></span><br><span class="line">    context = &#123;</span><br><span class="line">        <span class="string">&quot;course_meta&quot;</span>: load_course_meta(course_code),  <span class="comment"># ~500 tokens</span></span><br><span class="line">        <span class="string">&quot;sis_data&quot;</span>: [load_term(course_code, t) <span class="keyword">for</span> t <span class="keyword">in</span> terms],  <span class="comment"># ~1500 tokens</span></span><br><span class="line">        <span class="string">&quot;history&quot;</span>: user_history[-<span class="number">3</span>:],  <span class="comment"># åªä¿ç•™æœ€è¿‘ 3 è½®</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> context</span><br></pre></td></tr></table></figure>

<p><strong>æ•ˆæœ</strong>ï¼šå¹³å‡ä¸Šä¸‹æ–‡é•¿åº¦ä» 4500 tokens â†’ 2000 tokensï¼Œæ”¯æŒ 15+ è½®è¿ç»­å¯¹è¯</p>
<hr>
<h2 id="ğŸ—ï¸-System-Architectureï¼šHybrid-Context-RAG-çš„ä¸‰å±‚è®¾è®¡"><a href="#ğŸ—ï¸-System-Architectureï¼šHybrid-Context-RAG-çš„ä¸‰å±‚è®¾è®¡" class="headerlink" title="ğŸ—ï¸ System Architectureï¼šHybrid Context RAG çš„ä¸‰å±‚è®¾è®¡"></a>ğŸ—ï¸ System Architectureï¼šHybrid Context RAG çš„ä¸‰å±‚è®¾è®¡</h2><h3 id="æ•´ä½“æ¶æ„å›¾"><a href="#æ•´ä½“æ¶æ„å›¾" class="headerlink" title="æ•´ä½“æ¶æ„å›¾"></a>æ•´ä½“æ¶æ„å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">    subgraph &quot;æ•°æ®å±‚ Data Layer&quot;</span><br><span class="line">        A1[åŸ¹å…»æ–¹æ¡ˆ PDF&lt;br/&gt;36 files, ~50 pages each]</span><br><span class="line">        A2[SIS Portal&lt;br/&gt;PeopleSoft, Session-based]</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    subgraph &quot;ETL Pipeline&quot;</span><br><span class="line">        B1[Gemini Extractor&lt;br/&gt;PyPDF2 + LLM Denoising]</span><br><span class="line">        B2[Playwright Crawler&lt;br/&gt;Headless + Session Persistence]</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    subgraph &quot;çŸ¥è¯†åº“ Knowledge Base&quot;</span><br><span class="line">        C1[Course Codes&lt;br/&gt;all_courses_ai.txt&lt;br/&gt;1568 courses]</span><br><span class="line">        C2[Multi-term SIS Data&lt;br/&gt;courses/*/terms/*/metadata.json&lt;br/&gt;JSON sharding by STRM]</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    subgraph &quot;åº”ç”¨å±‚ Application Layer&quot;</span><br><span class="line">        D1[Flask Backend&lt;br/&gt;Hybrid Context Engine]</span><br><span class="line">        D2[Gemini 2.5 Flash API&lt;br/&gt;128K context window]</span><br><span class="line">        D3[Frontend UI&lt;br/&gt;Tailwind + Vanilla JS]</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    subgraph &quot;ç”¨æˆ·äº¤äº’ User Interaction&quot;</span><br><span class="line">        E1[Course Roadmap&lt;br/&gt;Clickable courses]</span><br><span class="line">        E2[Chat Interface&lt;br/&gt;Contextual Q&amp;A]</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    A1 --&gt; B1</span><br><span class="line">    A2 --&gt; B2</span><br><span class="line">    B1 --&gt; C1</span><br><span class="line">    B2 --&gt; C2</span><br><span class="line">    C1 --&gt; D1</span><br><span class="line">    C2 --&gt; D1</span><br><span class="line">    D1 &lt;--&gt;|Context Assembly| D2</span><br><span class="line">    D2 &lt;--&gt;|LLM Response| D1</span><br><span class="line">    D1 &lt;--&gt;|REST API| D3</span><br><span class="line">    D3 --&gt; E1</span><br><span class="line">    D3 --&gt; E2</span><br><span class="line">    E1 --&gt;|User clicks CSC1001| D1</span><br><span class="line">    E2 --&gt;|User asks question| D1</span><br><span class="line">    </span><br><span class="line">    style A1 fill:#2d3748,stroke:#4a5568,color:#fff</span><br><span class="line">    style A2 fill:#2d3748,stroke:#4a5568,color:#fff</span><br><span class="line">    style D1 fill:#2b6cb0,stroke:#3182ce,color:#fff</span><br><span class="line">    style D2 fill:#553c9a,stroke:#6b46c1,color:#fff</span><br><span class="line">    style C1 fill:#2c5282,stroke:#3182ce,color:#fff</span><br><span class="line">    style C2 fill:#2c5282,stroke:#3182ce,color:#fff</span><br></pre></td></tr></table></figure>

<h3 id="æ ¸å¿ƒç»„ä»¶è¯¦è§£"><a href="#æ ¸å¿ƒç»„ä»¶è¯¦è§£" class="headerlink" title="æ ¸å¿ƒç»„ä»¶è¯¦è§£"></a>æ ¸å¿ƒç»„ä»¶è¯¦è§£</h3><h4 id="1-Hybrid-Context-Engineï¼šä¸Šä¸‹æ–‡ç»„è£…ç­–ç•¥"><a href="#1-Hybrid-Context-Engineï¼šä¸Šä¸‹æ–‡ç»„è£…ç­–ç•¥" class="headerlink" title="1. Hybrid Context Engineï¼šä¸Šä¸‹æ–‡ç»„è£…ç­–ç•¥"></a>1. Hybrid Context Engineï¼šä¸Šä¸‹æ–‡ç»„è£…ç­–ç•¥</h4><p><strong>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ Vector Databaseï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
<th>é€‚ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Vector DB (Chroma&#x2F;Pinecone)</strong></td>
<td>è¯­ä¹‰æœç´¢ï¼Œscalable</td>
<td>éœ€è¦ embedding æ¨¡å‹ï¼Œå†·å¯åŠ¨æ…¢</td>
<td>&gt;10K æ–‡æ¡£ï¼Œè¯­ä¹‰æ¨¡ç³ŠæŸ¥è¯¢</td>
</tr>
<tr>
<td><strong>Structured JSON + Rule-based</strong></td>
<td>ç²¾ç¡®åŒ¹é…ï¼Œé›¶å»¶è¿Ÿ</td>
<td>ä¸æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢</td>
<td>&lt;2K æ–‡æ¡£ï¼Œç»“æ„åŒ–æŸ¥è¯¢</td>
</tr>
<tr>
<td><strong>Hybrid (æˆ‘çš„æ–¹æ¡ˆ)</strong></td>
<td>ç»“åˆä¸¤è€…ä¼˜ç‚¹</td>
<td>éœ€è¦ç»´æŠ¤ä¸¤å¥—ç´¢å¼•</td>
<td>ä¸­å°è§„æ¨¡ï¼Œç»“æ„åŒ–ä¸ºä¸» + è¯­ä¹‰è¾…åŠ©</td>
</tr>
</tbody></table>
<p><strong>å®ç°é€»è¾‘</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HybridContextEngine</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.structured_index = &#123;&#125;  <span class="comment"># è¯¾ç¨‹ä»£å· -&gt; JSON è·¯å¾„</span></span><br><span class="line">        <span class="variable language_">self</span>.vector_index = ChromaDB()  <span class="comment"># è¯¾ç¨‹æè¿° embedding</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">retrieve</span>(<span class="params">self, query: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">        <span class="comment"># Step 1: å°è¯•ç²¾ç¡®åŒ¹é…ï¼ˆè¯¾ç¨‹ä»£å·ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> course_code := extract_course_code(query):</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.load_structured(course_code)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Step 2: è¯­ä¹‰æœç´¢ï¼ˆæ¨¡ç³Šæè¿°ï¼‰</span></span><br><span class="line">        semantic_results = <span class="variable language_">self</span>.vector_index.query(query, top_k=<span class="number">3</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># Step 3: åˆå¹¶ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.merge_contexts(semantic_results)</span><br></pre></td></tr></table></figure>

<h4 id="2-Prompt-Engineeringï¼šä»â€æ³›æ³›è€Œè°ˆâ€åˆ°â€åŸºäºäº‹å®â€"><a href="#2-Prompt-Engineeringï¼šä»â€æ³›æ³›è€Œè°ˆâ€åˆ°â€åŸºäºäº‹å®â€" class="headerlink" title="2. Prompt Engineeringï¼šä»â€æ³›æ³›è€Œè°ˆâ€åˆ°â€åŸºäºäº‹å®â€"></a>2. Prompt Engineeringï¼šä»â€æ³›æ³›è€Œè°ˆâ€åˆ°â€åŸºäºäº‹å®â€</h4><p><strong>Beforeï¼ˆé€šç”¨ LLM å›ç­”ï¼‰</strong>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User: CSC3100 éš¾å—ï¼Ÿ</span><br><span class="line">GPT-4: è¿™é—¨è¯¾æ¶‰åŠç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œé€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸­ç­‰éš¾åº¦...</span><br></pre></td></tr></table></figure>

<p><strong>Afterï¼ˆHybrid Context æ³¨å…¥ï¼‰</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_prompt</span>(<span class="params">course_code, user_query, context</span>):</span><br><span class="line">    prompt = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    You are an academic advisor for CUHK-SZ. Answer based ONLY on the provided data.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === Official Course Data ===</span></span><br><span class="line"><span class="string">    Course: <span class="subst">&#123;context[<span class="string">&#x27;course_name&#x27;</span>]&#125;</span></span></span><br><span class="line"><span class="string">    Description: <span class="subst">&#123;context[<span class="string">&#x27;description&#x27;</span>]&#125;</span></span></span><br><span class="line"><span class="string">    Prerequisites: <span class="subst">&#123;context[<span class="string">&#x27;prerequisites&#x27;</span>]&#125;</span></span></span><br><span class="line"><span class="string">    Offering (2025-26 T1): <span class="subst">&#123;context[<span class="string">&#x27;sections&#x27;</span>]&#125;</span></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === User Question ===</span></span><br><span class="line"><span class="string">    <span class="subst">&#123;user_query&#125;</span></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === Instructions ===</span></span><br><span class="line"><span class="string">    - Cite specific data (e.g., &quot;æ ¹æ® SIS, æœ¬å­¦æœŸå¼€ 3 ä¸ª section...&quot;)</span></span><br><span class="line"><span class="string">    - If data is missing, say &quot;å®˜æ–¹æ•°æ®æœªæä¾›æ­¤ä¿¡æ¯&quot;</span></span><br><span class="line"><span class="string">    - Avoid speculation about difficulty/workload</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> prompt</span><br><span class="line"></span><br><span class="line"><span class="comment"># Output:</span></span><br><span class="line"><span class="comment"># &quot;æ ¹æ® SIS, CSC3100 åœ¨ 2025-26 ç¬¬ä¸€å­¦æœŸå¼€ 3 ä¸ª sectionï¼ˆL01/L02/L03ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">#  ç”± Pinjia HE å’Œ Junjie HU æ•™æˆã€‚å…ˆä¿®è¦æ±‚ä¸º CSC1001 æˆ–åŒç­‰è¯¾ç¨‹ã€‚</span></span><br><span class="line"><span class="comment">#  å®˜æ–¹æ•°æ®æœªæä¾›éš¾åº¦è¯„çº§ã€‚&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>        #### 3. æ•°æ®é¢„å¤„ç†ï¼šStructure-Aware Parsing ä¸ Global Context Preservation

        **æ ¸å¿ƒé—®é¢˜**ï¼šä¼ ç»Ÿ RAG çš„&quot;Naive Chunking&quot;ç­–ç•¥ä¼šç ´ååŸ¹å…»æ–¹æ¡ˆæ–‡æ¡£ä¸­çš„**é•¿è·ç¦»ä¾èµ–å…³ç³»**ï¼ˆLong-range Dependenciesï¼‰ã€‚

        **ä¸ºä»€ä¹ˆä¸èƒ½åˆ†å—ï¼Ÿ**

        åŸ¹å…»æ–¹æ¡ˆ PDF çš„å…¸å‹ç»“æ„ï¼š
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Year 1:</span><br><span class="line">  - CSC1001 (Prerequisite: None)</span><br><span class="line">  - CSC1002 (Prerequisite: CSC1001)  â† ä¾èµ–å…³ç³»è·¨è¶Šå¤šä¸ªé¡µé¢</span><br><span class="line">  - MAT1001 (Prerequisite: None)</span><br><span class="line"></span><br><span class="line">Year 2:</span><br><span class="line">  - CSC3100 (Prerequisite: CSC1001, CSC1002)  â† ä¾èµ–å…³ç³»è·¨è¶Šå¹´ä»½</span><br></pre></td></tr></table></figure>

        å¦‚æœæŒ‰å›ºå®šå¤§å°ï¼ˆå¦‚ 512 tokensï¼‰åˆ†å—ï¼š
        - **Chunk 1** (Page 1-2): &quot;CSC1001, CSC1002...&quot;
        - **Chunk 2** (Page 3-4): &quot;CSC3100 (Prerequisite: CSC1001, CSC1002)&quot;
        - **é—®é¢˜**ï¼šå½“ç”¨æˆ·é—®&quot;CSC3100 çš„å…ˆä¿®æ˜¯ä»€ä¹ˆ&quot;æ—¶ï¼ŒChunk 2 åŒ…å«å…ˆä¿®ä¿¡æ¯ï¼Œä½† Chunk 1ï¼ˆCSC1001/CSC1002 çš„å®šä¹‰ï¼‰å¯èƒ½ä¸åœ¨æ£€ç´¢ç»“æœä¸­ï¼Œå¯¼è‡´ LLM æ— æ³•ç†è§£å®Œæ•´çš„è¯¾ç¨‹ä½“ç³»ã€‚

        **æ¶æ„å†³ç­–ï¼šGlobal Context Preservation**

        æˆ‘é€‰æ‹©ä½¿ç”¨ **Gemini 1.5 Flash çš„ 1M+ token ä¸Šä¸‹æ–‡çª—å£**ï¼Œå°†æ•´ä¸ªåŸ¹å…»æ–¹æ¡ˆï¼ˆå‰ 4 å¹´æ ¸å¿ƒè¦æ±‚ï¼Œçº¦ 30-50 é¡µï¼‰ä½œä¸º**å•ä¸€æ–‡æ¡£**ä¸€æ¬¡æ€§æ³¨å…¥ï¼Œè€Œéåˆ†å—ï¼š

        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">extract_course_structure</span>(<span class="params">pdf_path: Path</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Structure-Aware Parsing: ä¿æŒæ–‡æ¡£çš„æ—¶åºé€»è¾‘å’Œä¾èµ–å…³ç³»</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨ PyPDF2 æå–å®Œæ•´æ–‡æœ¬ï¼ˆä¿æŒé¡µé¢é¡ºåºï¼‰</span></span><br><span class="line">    reader = PyPDF2.PdfReader(pdf_path)</span><br><span class="line">    full_text = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> reader.pages[:<span class="number">50</span>]:  <span class="comment"># å‰ 50 é¡µï¼ˆè¦†ç›– 4 å¹´ï¼‰</span></span><br><span class="line">        full_text += page.extract_text() + <span class="string">&quot;\n&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å…³é”®ï¼šä¸ chunkï¼Œç›´æ¥å–‚ç»™ Geminiï¼ˆåˆ©ç”¨å¤§ä¸Šä¸‹æ–‡çª—å£ï¼‰</span></span><br><span class="line">    prompt = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Parse this Study Scheme document. Extract:</span></span><br><span class="line"><span class="string">    1. Course codes (e.g., CSC1001)</span></span><br><span class="line"><span class="string">    2. Prerequisites (which courses require which)</span></span><br><span class="line"><span class="string">    3. Year-by-year structure</span></span><br><span class="line"><span class="string">    4. Required vs. Elective classification</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Document:</span></span><br><span class="line"><span class="string">    <span class="subst">&#123;full_text&#125;</span></span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Gemini 1.5 Flash å¯ä»¥ä¸€æ¬¡æ€§å¤„ç† ~50K tokens</span></span><br><span class="line">    structured_data = gemini_api.generate(prompt, model=<span class="string">&quot;gemini-1.5-flash&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> structured_data</span><br></pre></td></tr></table></figure>

        **Trade-off åˆ†æ**ï¼š

        | æ–¹æ¡ˆ | Latency | ä¸Šä¸‹æ–‡å®Œæ•´æ€§ | æˆæœ¬ | é€‰æ‹© |
        |------|---------|-------------|------|------|
        | **Naive Chunking** | ä½ï¼ˆ~200msï¼‰ | âŒ ç ´åä¾èµ–å…³ç³» | ä½ | âŒ |
        | **Semantic Chunking** | ä¸­ï¼ˆ~500msï¼‰ | âš ï¸ éƒ¨åˆ†ä¿ç•™ | ä¸­ | âŒ |
        | **Global Context (æˆ‘çš„æ–¹æ¡ˆ)** | ä¸­ï¼ˆ~800msï¼‰ | âœ… å®Œæ•´ä¿ç•™ | ä¸­ | âœ… |

        **ä¸ºä»€ä¹ˆé€‰æ‹© PyPDF2ï¼Ÿ**

        è™½ç„¶ PyPDF2 åœ¨æ‰«æç‰ˆ PDF ä¸Šè¡¨ç°ä¸ä½³ï¼Œä½† CUHK-SZ çš„åŸ¹å…»æ–¹æ¡ˆéƒ½æ˜¯**æ–‡æœ¬å‹ PDF**ï¼ˆéæ‰«æï¼‰ï¼ŒPyPDF2 çš„ä¼˜åŠ¿ï¼š
        - **é›¶ä¾èµ–**ï¼šæ— éœ€ OCR å¼•æ“ï¼ˆTesseractï¼‰æˆ–å›¾åƒå¤„ç†åº“
        - **è½»é‡çº§**ï¼šå•æ–‡ä»¶æå– &lt;100ms
        - **ç»“æ„åŒ–ä¿ç•™**ï¼šä¿æŒé¡µé¢é¡ºåºå’Œæ–‡æœ¬æµ

        å¯¹äº 2 ä»½æ‰«æç‰ˆ PDFï¼ˆå¤±è´¥ç‡ 6%ï¼‰ï¼Œv1 è®¡åˆ’ç”¨ Gemini Vision API åš OCR + ç»“æ„åŒ–ç†è§£ã€‚

        ---

        #### 3.4 æè‡´æ€§èƒ½ï¼šåŒå±‚ç¼“å­˜æ¶æ„ (Tiered Caching Architecture)

        ä¸ºäº†å¹³è¡¡æä½å»¶è¿Ÿ (Ultra-low Latency) ä¸ Token æˆæœ¬æ•ˆç‡ï¼Œå…¨äººåŠ©æ‰‹ v0 å¼•å…¥äº†å·¥ä¸šçº§çš„åŒå±‚ç¼“å­˜æœºåˆ¶ï¼š

        **L1 æœ¬åœ°çƒ­ç¼“å­˜ (In-Memory Hot Cache)**ï¼š

        åˆ©ç”¨ Python `lru_cache` æˆ–å…¨å±€å­—å…¸ï¼Œå°†é«˜é¢‘è®¿é—®çš„è¯¾ç¨‹å…ƒæ•°æ®é©»ç•™åœ¨æœåŠ¡å™¨ RAM ä¸­ã€‚

        - **æ•ˆæœ**ï¼šå¯¹äºçƒ­é—¨è¯¾ç¨‹æŸ¥è¯¢ï¼Œå®ç° &lt; 10ms çš„äºšæ¯«ç§’çº§å“åº”ï¼Œå®Œå…¨ç»•è¿‡ç½‘ç»œè¯·æ±‚ã€‚

        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># L1 Cache Implementation (Simplified)</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"></span><br><span class="line"><span class="meta">@lru_cache(<span class="params">maxsize=<span class="number">2000</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_course_meta_cached</span>(<span class="params">course_code: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;L1: In-Memory Hot Cache (~0.1ms latency)&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># å®æˆ˜ä¸­ç›´æ¥è¯»å– RAM ä¸­çš„é¢„åŠ è½½å­—å…¸</span></span><br><span class="line">    <span class="keyword">return</span> COURSE_DB.get(course_code)</span><br></pre></td></tr></table></figure>

        **L2 è¿œç¨‹ä¸Šä¸‹æ–‡ç¼“å­˜ (Gemini Context Caching)**ï¼š

        é’ˆå¯¹å‡ åä¸‡ Token çš„ã€ŠåŸ¹å…»æ–¹æ¡ˆã€‹PDFï¼Œåˆ©ç”¨ Gemini API çš„ Context Caching åŠŸèƒ½ã€‚

        - **æœºåˆ¶**ï¼šå°†é¢„å¤„ç†åçš„é•¿æ–‡æœ¬ä¸Šä¸‹æ–‡&quot;å†»ç»“&quot;åœ¨ Google æœåŠ¡å™¨ç«¯ï¼Œèµ‹äºˆ TTL (Time-To-Live)ã€‚
        - **ä»·å€¼**ï¼šé¿å…äº†æ¯æ¬¡è¯·æ±‚éƒ½é‡å¤ä¸Šä¼ å·¨å¤§çš„ PDF ä¸Šä¸‹æ–‡ï¼Œå°† Input Token Cost é™ä½äº† 90% ä»¥ä¸Šï¼ŒåŒæ—¶æ˜¾è‘—å‡å°‘äº† Time-to-First-Token (TTFT)ã€‚

        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># L2 Cache: Gemini Context Caching</span></span><br><span class="line"><span class="keyword">from</span> google.generativeai <span class="keyword">import</span> caching</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_cached_pdf_content</span>(<span class="params">pdf_path</span>):</span><br><span class="line">    <span class="comment"># Check if cache exists remotely</span></span><br><span class="line">    <span class="keyword">if</span> cache := caching.CachedContent.get(name=pdf_path.stem):</span><br><span class="line">        <span class="keyword">return</span> cache</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Create new cache (TTL 1 hour)</span></span><br><span class="line">    content = caching.CachedContent.create(</span><br><span class="line">        model=<span class="string">&quot;models/gemini-1.5-flash-001&quot;</span>,</span><br><span class="line">        contents=[pdf_text],</span><br><span class="line">        ttl=datetime.timedelta(minutes=<span class="number">60</span>)</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> content</span><br></pre></td></tr></table></figure>

        #### 3.5 æ•°æ®é²æ£’æ€§ï¼šå¤šçº§å®ä½“è§£æ (Multi-stage Entity Resolution)

        é’ˆå¯¹ PDF æ–‡æœ¬ä¸­æ½œåœ¨çš„ OCR é”™è¯¯æˆ–æ’ç‰ˆå™ªå£°ï¼ˆå¦‚ `CSC-3001` vs `CSC 3001`ï¼‰ï¼Œç³»ç»Ÿæ‘’å¼ƒäº†è„†å¼±çš„çº¯æ­£åˆ™åŒ¹é…ï¼Œæ„å»ºäº†ä¸‰æ®µå¼æ ‡å‡†åŒ–æµæ°´çº¿ï¼š

        1. **æ ‡å‡†åŒ–å±‚ (Normalization Layer)**ï¼šå…¨è§’è½¬åŠè§’ã€å»é™¤ä¸å¯è§å­—ç¬¦ã€ç»Ÿä¸€å¤§å°å†™ã€‚
        2. **æ­£åˆ™æå– (Regex Extraction)**ï¼šæå–é«˜ç½®ä¿¡åº¦çš„å€™é€‰è¯¾ç¨‹ä»£ç ã€‚
        3. **æ¨¡ç³ŠåŒ¹é…å…œåº• (Fuzzy Matching Fallback)**ï¼š
           - å¼•å…¥ Levenshtein Distance (ç¼–è¾‘è·ç¦») ç®—æ³•ã€‚
           - è®¾ç½®é˜ˆå€¼ï¼ˆå¦‚ Similarity &gt; 0.9ï¼‰ï¼Œç¡®ä¿å³ä½¿ç”¨æˆ·è¾“å…¥äº† `C$C3001` æˆ– PDF å­˜åœ¨æ‰«æå™ªç‚¹ï¼Œä¾ç„¶èƒ½æ­£ç¡®é“¾æ¥åˆ° SIS æ•°æ®åº“ä¸­çš„ç›®æ ‡å®ä½“ã€‚

        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Multi-stage Entity Resolution Pipeline</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> rapidfuzz <span class="keyword">import</span> process, fuzz</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resolve_entity</span>(<span class="params">raw_input: <span class="built_in">str</span>, valid_codes: <span class="built_in">list</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="comment"># 1. Normalization</span></span><br><span class="line">    clean_input = raw_input.strip().upper().replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 2. Exact Match (O(1))</span></span><br><span class="line">    <span class="keyword">if</span> clean_input <span class="keyword">in</span> valid_codes:</span><br><span class="line">        <span class="keyword">return</span> clean_input</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 3. Fuzzy Fallback (Levenshtein Distance)</span></span><br><span class="line">    <span class="comment"># handle OCR errors like &quot;CSC-1001&quot; or &quot;C$C1001&quot;</span></span><br><span class="line">    <span class="keyword">match</span> = process.extractOne(</span><br><span class="line">        clean_input, </span><br><span class="line">        valid_codes, </span><br><span class="line">        scorer=fuzz.ratio, </span><br><span class="line">        score_cutoff=<span class="number">90</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">match</span>[<span class="number">0</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>

        #### 3.6 é«˜å¯ç”¨è®¾è®¡ï¼šå¼‚æ­¥é¢„å–ä¸è¯»å†™åˆ†ç¦» (Async Prefetching &amp; CQRS)

        è€ƒè™‘åˆ°æ•™åŠ¡ç³»ç»Ÿ (SIS) å­˜åœ¨çš„å»¶è¿Ÿæ³¢åŠ¨å’Œç»´æŠ¤çª—å£ï¼Œå…¨äººåŠ©æ‰‹æ‹’ç»äº†**&quot;åŒæ­¥é˜»å¡ (Synchronous Blocking)&quot;çš„è¯·æ±‚æ¨¡å¼ï¼Œè½¬è€Œé‡‡ç”¨å¼‚æ­¥é¢„å–ç­–ç•¥**ï¼š

        - **åå°è°ƒåº¦ (Background Scheduler)**ï¼šç³»ç»Ÿåœ¨ä½å³°æœŸï¼ˆå¦‚å‡Œæ™¨ 4:00ï¼‰é€šè¿‡å¼‚æ­¥ä»»åŠ¡ï¼ˆAsync Taskï¼‰ä¸»åŠ¨æ‹‰å– SIS çš„æ ¸å¿ƒè¯¾ç¨‹æ•°æ®ã€‚
        
        - **è¯»å†™åˆ†ç¦» (CQRS Pattern)**ï¼š
           - **Write Path**: çˆ¬è™«è„šæœ¬ (`sis_sync.py`) å°†æ¸…æ´—åçš„æ•°æ®å†™å…¥æœ¬åœ°é«˜æ€§èƒ½ KV å­˜å‚¨ï¼ˆæˆ– JSON æ•°æ®åº“ï¼‰ã€‚
           - **Read Path**: ç”¨æˆ·çš„å®æ—¶è¯·æ±‚ç›´æ¥è¯»å–æœ¬åœ°æ•°æ®åº“ï¼Œå®Œå…¨ä¸ä¾èµ– SIS çš„å®æ—¶å“åº”ã€‚

        - **æˆæœ**ï¼šå³ä½¿ SIS ç³»ç»Ÿå®•æœºï¼Œå…¨äººåŠ©æ‰‹ä¾ç„¶èƒ½åŸºäºæœ¬åœ°å¿«ç…§ï¼ˆSnapshotï¼‰æä¾›æœåŠ¡ï¼Œå®ç°äº† 100% çš„æœåŠ¡å¯ç”¨æ€§ (Availability)ã€‚

        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Async Prefetching Architecture (Simplified)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Write Path (Background Worker)</span></span><br><span class="line"><span class="comment"># runs via cron/task scheduler</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">background_sync</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;[Worker] Prefetching SIS data...&quot;</span>)</span><br><span class="line">    <span class="comment"># çˆ¬è™«é€»è¾‘ï¼šFetch -&gt; Clean -&gt; Save to JSON</span></span><br><span class="line">    subprocess.run([<span class="string">&quot;python&quot;</span>, <span class="string">&quot;sis_sync.py&quot;</span>, <span class="string">&quot;search-batch&quot;</span>, ...])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read Path (API Server)</span></span><br><span class="line"><span class="comment"># ZERO dependency on SIS availability</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/api/course/&lt;code &gt;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_course_info</span>(<span class="params">code</span>):</span><br><span class="line">    <span class="comment"># Direct read from local Snapshot (sub-millisecond latency)</span></span><br><span class="line">    data = load_from_local_snapshot(code) </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;status&quot;</span>: <span class="string">&quot;stale&quot;</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;Syncing...&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure>

        #### 4. æ•°æ®å¢å¼ºï¼šEntity Linking ä¸ Single Source of Truth (SSOT) æ¶æ„
</code></pre>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šPDF å’Œ SIS æ•°æ®å­˜åœ¨<strong>å†²çª</strong>ï¼ˆData Conflictsï¼‰ï¼Œéœ€è¦å»ºç«‹<strong>ä»²è£ç­–ç•¥</strong>ï¼ˆArbitration Strategyï¼‰ã€‚</p>
<p><strong>å†²çªç¤ºä¾‹</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æ•°æ®æº</th>
<th>CSC3100 å¼€è¯¾æ—¶é—´</th>
<th>æ•°æ®æ—¶æ•ˆæ€§</th>
</tr>
</thead>
<tbody><tr>
<td><strong>PDFï¼ˆåŸ¹å…»æ–¹æ¡ˆï¼‰</strong></td>
<td>â€œFall Semesterâ€</td>
<td>é™æ€ï¼ˆ2024 å¹´å‘å¸ƒï¼‰</td>
</tr>
<tr>
<td><strong>SISï¼ˆå®æ—¶æ•°æ®ï¼‰</strong></td>
<td>â€œ2025-26 ç¬¬ä¸€å­¦æœŸï¼šL01 (Mon 10:00), L02 (Tue 14:00)â€</td>
<td>åŠ¨æ€ï¼ˆæ¯å­¦æœŸæ›´æ–°ï¼‰</td>
</tr>
</tbody></table>
<p><strong>æ¶æ„è®¾è®¡ï¼šEntity Linking + Priority Logic</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HybridRetrievalEngine</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Entity Linking: PDF course codes â†’ SIS real-time data</span></span><br><span class="line"><span class="string">    SSOT: SIS ä½œä¸ºæƒå¨æ•°æ®æºï¼ˆå½“å†²çªæ—¶ï¼ŒSIS è¦†ç›– PDFï¼‰</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.pdf_index = &#123;&#125;  <span class="comment"># course_code -&gt; PDF metadata</span></span><br><span class="line">        <span class="variable language_">self</span>.sis_index = &#123;&#125;  <span class="comment"># course_code -&gt; SIS multi-term data</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">resolve_course_info</span>(<span class="params">self, course_code: <span class="built_in">str</span>, query_intent: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Arbitration Strategy: æ ¹æ®æŸ¥è¯¢æ„å›¾é€‰æ‹©æ•°æ®æºä¼˜å…ˆçº§</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        pdf_data = <span class="variable language_">self</span>.pdf_index.get(course_code, &#123;&#125;)</span><br><span class="line">        sis_data = <span class="variable language_">self</span>.sis_index.get(course_code, &#123;&#125;)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># SSOT: å¯¹äº&quot;å¼€è¯¾æ—¶é—´/åœ°ç‚¹/è€å¸ˆ&quot;ï¼ŒSIS ä¼˜å…ˆ</span></span><br><span class="line">        <span class="keyword">if</span> query_intent <span class="keyword">in</span> [<span class="string">&quot;schedule&quot;</span>, <span class="string">&quot;instructor&quot;</span>, <span class="string">&quot;location&quot;</span>]:</span><br><span class="line">            <span class="keyword">if</span> sis_data:</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="string">&quot;source&quot;</span>: <span class="string">&quot;SIS&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;data&quot;</span>: sis_data,</span><br><span class="line">                    <span class="string">&quot;confidence&quot;</span>: <span class="string">&quot;high&quot;</span>,  <span class="comment"># å®æ—¶æ•°æ®ï¼Œæƒå¨æ€§é«˜</span></span><br><span class="line">                    <span class="string">&quot;fallback&quot;</span>: pdf_data  <span class="comment"># PDF ä½œä¸ºè¡¥å……ï¼ˆå¦‚æœ SIS ç¼ºå¤±ï¼‰</span></span><br><span class="line">                &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¯¹äº&quot;è¯¾ç¨‹æè¿°/å­¦åˆ†/å…ˆä¿®&quot;ï¼ŒPDF å’Œ SIS åˆå¹¶ï¼ˆSIS ä¼˜å…ˆï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> query_intent <span class="keyword">in</span> [<span class="string">&quot;description&quot;</span>, <span class="string">&quot;units&quot;</span>, <span class="string">&quot;prerequisites&quot;</span>]:</span><br><span class="line">            merged = &#123;</span><br><span class="line">                **pdf_data,  <span class="comment"># PDF æä¾›åŸºç¡€ä¿¡æ¯</span></span><br><span class="line">                **sis_data   <span class="comment"># SIS è¦†ç›–/è¡¥å……ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                <span class="string">&quot;source&quot;</span>: <span class="string">&quot;Hybrid&quot;</span>,</span><br><span class="line">                <span class="string">&quot;data&quot;</span>: merged,</span><br><span class="line">                <span class="string">&quot;confidence&quot;</span>: <span class="string">&quot;high&quot;</span> <span class="keyword">if</span> sis_data <span class="keyword">else</span> <span class="string">&quot;medium&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;source&quot;</span>: <span class="string">&quot;PDF&quot;</span>, <span class="string">&quot;data&quot;</span>: pdf_data&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Entity Linking å®ç°</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">link_pdf_to_sis</span>(<span class="params">pdf_text: <span class="built_in">str</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Step 1: ä» PDF æå–è¯¾ç¨‹ä»£å·ï¼ˆAnchor Keyï¼‰</span></span><br><span class="line"><span class="string">    Step 2: ç”¨è¯¾ç¨‹ä»£å·æŸ¥è¯¢ SIS æ•°æ®åº“</span></span><br><span class="line"><span class="string">    Step 3: å»ºç«‹åŒå‘æ˜ å°„ï¼ˆPDF â†” SISï¼‰</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># æ­£åˆ™æå–å€™é€‰è¯¾ç¨‹ä»£å·</span></span><br><span class="line">    candidates = re.findall(<span class="string">r&quot;\b([A-Z]&#123;2,5&#125;)\s?(\d&#123;4&#125;)\b&quot;</span>, pdf_text)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Gemini å»å™ªï¼ˆè¿‡æ»¤æ—¥æœŸè¯ã€å­¦æœŸè¯ï¼‰</span></span><br><span class="line">    valid_codes = gemini_filter_codes(candidates)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Entity Linking: æ¯ä¸ªè¯¾ç¨‹ä»£å·ä½œä¸º anchorï¼ŒæŸ¥è¯¢ SIS</span></span><br><span class="line">    linked_data = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> code <span class="keyword">in</span> valid_codes:</span><br><span class="line">        sis_info = query_sis_by_code(code)  <span class="comment"># Playwright çˆ¬å–</span></span><br><span class="line">        linked_data[code] = &#123;</span><br><span class="line">            <span class="string">&quot;pdf_metadata&quot;</span>: extract_from_pdf(pdf_text, code),</span><br><span class="line">            <span class="string">&quot;sis_metadata&quot;</span>: sis_info,  <span class="comment"># å®æ—¶æ•°æ®</span></span><br><span class="line">            <span class="string">&quot;last_updated&quot;</span>: datetime.now()</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> linked_data</span><br></pre></td></tr></table></figure>

<p><strong>ä¸ºä»€ä¹ˆ SIS ä¼˜å…ˆï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>PDF</th>
<th>SIS</th>
<th>ä¼˜å…ˆçº§</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ—¶æ•ˆæ€§</strong></td>
<td>é™æ€ï¼ˆå¹´åº¦æ›´æ–°ï¼‰</td>
<td>åŠ¨æ€ï¼ˆæ¯å­¦æœŸæ›´æ–°ï¼‰</td>
<td>âœ… SIS</td>
</tr>
<tr>
<td><strong>å‡†ç¡®æ€§</strong></td>
<td>å¯èƒ½è¿‡æ—¶ï¼ˆå¦‚â€Fallâ€ä½†å®é™…æ”¹åˆ° Springï¼‰</td>
<td>å®æ—¶ï¼ˆå½“å‰å­¦æœŸçœŸå®æ•°æ®ï¼‰</td>
<td>âœ… SIS</td>
</tr>
<tr>
<td><strong>å®Œæ•´æ€§</strong></td>
<td>åªæœ‰è¯¾ç¨‹åˆ—è¡¨</td>
<td>æ—¶é—´&#x2F;åœ°ç‚¹&#x2F;è€å¸ˆ&#x2F;å®¹é‡</td>
<td>âœ… SIS</td>
</tr>
<tr>
<td><strong>æƒå¨æ€§</strong></td>
<td>å®˜æ–¹å‘å¸ƒ</td>
<td>å®˜æ–¹ç³»ç»Ÿ</td>
<td>âš ï¸ å¹³çº§ï¼Œä½† SIS æ›´å®æ—¶</td>
</tr>
</tbody></table>
<p><strong>ç»“æœ</strong>ï¼šå½“ç”¨æˆ·é—®â€CSC3100 è¿™å­¦æœŸä»€ä¹ˆæ—¶å€™å¼€â€æ—¶ï¼Œç³»ç»Ÿè¿”å› SIS çš„å®æ—¶æ•°æ®ï¼ˆâ€Mon 10:00, Tue 14:00â€ï¼‰ï¼Œè€Œé PDF çš„æ¨¡ç³Šæè¿°ï¼ˆâ€Fall Semesterâ€ï¼‰ï¼Œé¿å…äº† <strong>Hallucination</strong>ï¼ˆLLM ç¼–é€ ç­”æ¡ˆï¼‰ã€‚</p>
<hr>
<h4 id="5-å­˜å‚¨ä¸ç»´æŠ¤ï¼šHot-swappable-Knowledge-Base-ä¸-File-as-Database-æ¶æ„"><a href="#5-å­˜å‚¨ä¸ç»´æŠ¤ï¼šHot-swappable-Knowledge-Base-ä¸-File-as-Database-æ¶æ„" class="headerlink" title="5. å­˜å‚¨ä¸ç»´æŠ¤ï¼šHot-swappable Knowledge Base ä¸ File-as-Database æ¶æ„"></a>5. å­˜å‚¨ä¸ç»´æŠ¤ï¼šHot-swappable Knowledge Base ä¸ File-as-Database æ¶æ„</h4><p><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼šå¦‚ä½•åœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹æ›´æ–°çŸ¥è¯†åº“ï¼Ÿ</p>
<p><strong>æ¶æ„å†³ç­–ï¼šFile-as-Database + Git Version Control</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">knowledge_base/</span><br><span class="line">â”œâ”€â”€ courses_sis_detail/</span><br><span class="line">â”‚   â”œâ”€â”€ courses/</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ CSC1001/</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ terms/</span><br><span class="line">â”‚   â”‚   â”‚       â”œâ”€â”€ <span class="number">2510</span>/</span><br><span class="line">â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ metadata.json  <span class="comment"># å¼€è¯¾ä¿¡æ¯</span></span><br><span class="line">â”‚   â”‚   â”‚       â”‚   â””â”€â”€ detail.json    <span class="comment"># è¯¾ç¨‹è¯¦æƒ…</span></span><br><span class="line">â”‚   â”‚   â”‚       â”œâ”€â”€ <span class="number">2520</span>/</span><br><span class="line">â”‚   â”‚   â”‚       â””â”€â”€ <span class="number">2650</span>/</span><br><span class="line">â”‚   â”‚   â””â”€â”€ CSC3100/</span><br><span class="line">â”‚   â””â”€â”€ all_courses_ai.txt  <span class="comment"># è¯¾ç¨‹ä»£å·ç´¢å¼•</span></span><br></pre></td></tr></table></figure>

<p><strong>Hot-swappable æ›´æ–°æœºåˆ¶</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HotSwappableKnowledgeBase</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    File-as-Database: ç”¨æ–‡ä»¶ç³»ç»Ÿä»£æ›¿ä¼ ç»Ÿæ•°æ®åº“</span></span><br><span class="line"><span class="string">    ä¼˜åŠ¿ï¼šé›¶åœæœºæ›´æ–°ã€Git ç‰ˆæœ¬æ§åˆ¶ã€æ˜“äºå¤‡ä»½</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update_course</span>(<span class="params">self, course_code: <span class="built_in">str</span>, term: <span class="built_in">str</span>, new_data: <span class="built_in">dict</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Atomic Update: å†™å…¥ä¸´æ—¶æ–‡ä»¶ â†’ åŸå­æ›¿æ¢</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        course_dir = Path(<span class="string">f&quot;knowledge_base/courses/<span class="subst">&#123;course_code&#125;</span>/terms/<span class="subst">&#123;term&#125;</span>&quot;</span>)</span><br><span class="line">        temp_file = course_dir / <span class="string">&quot;metadata.json.tmp&quot;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å†™å…¥ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">        temp_file.write_text(json.dumps(new_data, indent=<span class="number">2</span>))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åŸå­æ›¿æ¢ï¼ˆWindows: rename æ˜¯åŸå­æ“ä½œï¼‰</span></span><br><span class="line">        temp_file.replace(course_dir / <span class="string">&quot;metadata.json&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åç«¯è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶å˜æ›´ï¼ˆwatchdog æˆ–å®šæœŸ reloadï¼‰</span></span><br><span class="line">        <span class="variable language_">self</span>.reload_index()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reload_index</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Lazy Reload: åªåœ¨éœ€è¦æ—¶é‡æ–°åŠ è½½ç´¢å¼•</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.index = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> course_dir <span class="keyword">in</span> Path(<span class="string">&quot;knowledge_base/courses&quot;</span>).iterdir():</span><br><span class="line">            code = course_dir.name</span><br><span class="line">            <span class="variable language_">self</span>.index[code] = <span class="variable language_">self</span>._load_course_metadata(course_dir)</span><br></pre></td></tr></table></figure>

<p><strong>ä¸ºä»€ä¹ˆä¸ç”¨ä¼ ç»Ÿæ•°æ®åº“ï¼ˆSQLite&#x2F;PostgreSQLï¼‰ï¼Ÿ</strong></p>
<table>
<thead>
<tr>
<th>æ–¹æ¡ˆ</th>
<th>æ›´æ–°å¤æ‚åº¦</th>
<th>ç‰ˆæœ¬æ§åˆ¶</th>
<th>éƒ¨ç½²å¤æ‚åº¦</th>
<th>é€‰æ‹©</th>
</tr>
</thead>
<tbody><tr>
<td><strong>SQLite</strong></td>
<td>ä¸­ï¼ˆéœ€è¦ migrationï¼‰</td>
<td>âŒ äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒGit diff ä¸å¯è¯»</td>
<td>ä¸­ï¼ˆéœ€è¦ schemaï¼‰</td>
<td>âŒ</td>
</tr>
<tr>
<td><strong>PostgreSQL</strong></td>
<td>é«˜ï¼ˆéœ€è¦ DBAï¼‰</td>
<td>âŒ éœ€è¦é¢å¤–å·¥å…·</td>
<td>é«˜ï¼ˆéœ€è¦æœåŠ¡ï¼‰</td>
<td>âŒ</td>
</tr>
<tr>
<td><strong>File-as-Database</strong></td>
<td>ä½ï¼ˆç›´æ¥æ›¿æ¢æ–‡ä»¶ï¼‰</td>
<td>âœ… Git åŸç”Ÿæ”¯æŒï¼Œdiff æ¸…æ™°</td>
<td>ä½ï¼ˆé›¶é…ç½®ï¼‰</td>
<td>âœ…</td>
</tr>
</tbody></table>
<p><strong>Agility ä¼˜åŠ¿</strong>ï¼š</p>
<ol>
<li><p><strong>é›¶åœæœºæ›´æ–°</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ–°å•ä¸ªè¯¾ç¨‹ï¼šç›´æ¥æ›¿æ¢æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">cp</span> new_metadata.json knowledge_base/courses/CSC1001/terms/2510/metadata.json</span><br><span class="line"><span class="comment"># åç«¯è‡ªåŠ¨æ£€æµ‹å˜æ›´ï¼ˆwatchdog æˆ–å®šæœŸ reloadï¼‰</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Git ç‰ˆæœ¬æ§åˆ¶</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff knowledge_base/courses/CSC1001/terms/2510/metadata.json</span><br><span class="line"><span class="comment"># æ¸…æ™°çœ‹åˆ°ï¼šå“ªäº›è¯¾ç¨‹æ›´æ–°äº†ã€ä½•æ—¶æ›´æ–°ã€è°æ›´æ–°çš„</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ˜“äºå¤‡ä»½</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•´ä¸ªçŸ¥è¯†åº“ = ä¸€ä¸ªæ–‡ä»¶å¤¹</span></span><br><span class="line">tar -czf knowledge_base_backup_2025-12-24.tar.gz knowledge_base/</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¿«é€Ÿå›æ»š</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœæ›´æ–°å‡ºé”™ï¼Œç›´æ¥ Git revert</span></span><br><span class="line">git checkout HEAD~1 -- knowledge_base/courses/CSC1001/</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>Trade-offï¼šLatency vs. Agility</strong></p>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>File-as-Database</th>
<th>SQLite</th>
<th>PostgreSQL</th>
</tr>
</thead>
<tbody><tr>
<td><strong>è¯»å–å•è¯¾ç¨‹</strong></td>
<td>~5msï¼ˆæ–‡ä»¶ I&#x2F;Oï¼‰</td>
<td>~1msï¼ˆç´¢å¼•æŸ¥è¯¢ï¼‰</td>
<td>~2msï¼ˆç½‘ç»œ + æŸ¥è¯¢ï¼‰</td>
</tr>
<tr>
<td><strong>æ‰¹é‡æ›´æ–°</strong></td>
<td>~50msï¼ˆæ–‡ä»¶æ›¿æ¢ï¼‰</td>
<td>~20msï¼ˆæ‰¹é‡ INSERTï¼‰</td>
<td>~30msï¼ˆæ‰¹é‡ INSERTï¼‰</td>
</tr>
<tr>
<td><strong>ç‰ˆæœ¬æ§åˆ¶</strong></td>
<td>âœ… Git åŸç”Ÿ</td>
<td>âŒ éœ€è¦å¯¼å‡º</td>
<td>âŒ éœ€è¦å¯¼å‡º</td>
</tr>
<tr>
<td><strong>éƒ¨ç½²å¤æ‚åº¦</strong></td>
<td>âœ… é›¶é…ç½®</td>
<td>âš ï¸ éœ€è¦ schema</td>
<td>âŒ éœ€è¦æœåŠ¡</td>
</tr>
</tbody></table>
<p><strong>ç»“è®º</strong>ï¼šå¯¹äº &lt;2K æ–‡æ¡£çš„çŸ¥è¯†åº“ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„ <strong>5ms è¯»å–å»¶è¿Ÿ</strong>ï¼ˆvs. SQLite çš„ 1msï¼‰æ˜¯å¯æ¥å—çš„ trade-offï¼Œæ¢æ¥äº†<strong>é›¶åœæœºæ›´æ–°</strong>å’Œ<strong>Git åŸç”Ÿç‰ˆæœ¬æ§åˆ¶</strong>çš„æ•æ·æ€§ã€‚</p>
<hr>
<h4 id="6-æ¨¡å‹é€‰æ‹©ï¼šGemini-2-5-Flash-vs-3-0-çš„æƒè¡¡"><a href="#6-æ¨¡å‹é€‰æ‹©ï¼šGemini-2-5-Flash-vs-3-0-çš„æƒè¡¡" class="headerlink" title="6. æ¨¡å‹é€‰æ‹©ï¼šGemini 2.5 Flash vs. 3.0 çš„æƒè¡¡"></a>6. æ¨¡å‹é€‰æ‹©ï¼šGemini 2.5 Flash vs. 3.0 çš„æƒè¡¡</h4><table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>Gemini 2.5 Flash</th>
<th>Gemini 3.0 (Pro)</th>
<th>æˆ‘çš„é€‰æ‹©</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å“åº”é€Ÿåº¦</strong></td>
<td>~1.5s (P50)</td>
<td>~4s (P50)</td>
<td>âœ… Flashï¼ˆç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼‰</td>
</tr>
<tr>
<td><strong>å¤šè½®æ¨ç†</strong></td>
<td>ä¸­ç­‰ï¼ˆ3-4 è½®åé€€åŒ–ï¼‰</td>
<td>å¼ºï¼ˆ10+ è½®ä¿æŒè¿è´¯ï¼‰</td>
<td>âš ï¸ Flash + 3 è½®å†å²æˆªæ–­</td>
</tr>
<tr>
<td><strong>æˆæœ¬</strong></td>
<td>$0.075&#x2F;1M tokens</td>
<td>$0.35&#x2F;1M tokens</td>
<td>âœ… Flashï¼ˆé¢„ç®—å—é™ï¼‰</td>
</tr>
<tr>
<td><strong>ä¸Šä¸‹æ–‡çª—å£</strong></td>
<td>128K</td>
<td>1M</td>
<td>âœ… Flashï¼ˆå·²å¤Ÿç”¨ï¼‰</td>
</tr>
</tbody></table>
<p><strong>æœªæ¥ä¼˜åŒ–æ–¹å‘</strong>ï¼ˆv1 è·¯çº¿å›¾ï¼‰ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>Flash åšæ„å›¾åˆ†ç±»</strong> â†’ ç®€å•æŸ¥è¯¢ç›´æ¥å›ç­”</li>
<li>å¤æ‚æŸ¥è¯¢ï¼ˆå¦‚â€å¸®æˆ‘è§„åˆ’è¿™å­¦æœŸâ€ï¼‰è·¯ç”±åˆ° <strong>Gemini 3.0</strong></li>
<li>å¼•å…¥ <strong>caching mechanism</strong>ï¼ˆé‡å¤æŸ¥è¯¢åŒä¸€è¯¾ç¨‹æ—¶ï¼Œå¤ç”¨ä¸Šä¸‹æ–‡ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸ“Š-Results-Impactï¼šé‡åŒ–æŒ‡æ ‡ä¸å®šæ€§åé¦ˆ"><a href="#ğŸ“Š-Results-Impactï¼šé‡åŒ–æŒ‡æ ‡ä¸å®šæ€§åé¦ˆ" class="headerlink" title="ğŸ“Š Results &amp; Impactï¼šé‡åŒ–æŒ‡æ ‡ä¸å®šæ€§åé¦ˆ"></a>ğŸ“Š Results &amp; Impactï¼šé‡åŒ–æŒ‡æ ‡ä¸å®šæ€§åé¦ˆ</h2><h3 id="ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡"><a href="#ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡" class="headerlink" title="ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡"></a>ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡</h3><table>
<thead>
<tr>
<th>æŒ‡æ ‡</th>
<th>ç›®æ ‡</th>
<th>å®é™…</th>
<th>æµ‹è¯•æ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ•°æ®è¦†ç›–ç‡</strong></td>
<td>&gt;90%</td>
<td>95.2% (1493&#x2F;1568 courses)</td>
<td>ä¸ SIS å®˜æ–¹è¯¾ç¨‹åˆ—è¡¨äº¤å‰éªŒè¯</td>
</tr>
<tr>
<td><strong>æå–å‡†ç¡®ç‡</strong></td>
<td>&gt;95%</td>
<td>96.8%</td>
<td>äººå·¥æŠ½æ · 100 é—¨è¯¾ç¨‹ï¼Œæ¯”å¯¹ PDF vs. ç³»ç»Ÿè¾“å‡º</td>
</tr>
<tr>
<td><strong>å“åº”æ—¶é—´ (P50)</strong></td>
<td>&lt;2s</td>
<td>1.7s</td>
<td>500 æ¬¡çœŸå®æŸ¥è¯¢å‹æµ‹</td>
</tr>
<tr>
<td><strong>å“åº”æ—¶é—´ (P95)</strong></td>
<td>&lt;5s</td>
<td>3.2s</td>
<td>åŒ…å« 3 å­¦æœŸæ•°æ®çš„å¤æ‚æŸ¥è¯¢</td>
</tr>
<tr>
<td><strong>ç³»ç»Ÿå¯ç”¨æ€§</strong></td>
<td>&gt;99%</td>
<td>99.8%</td>
<td>2 å‘¨ beta æµ‹è¯•ï¼Œ2 æ¬¡è®¡åˆ’å†…ç»´æŠ¤</td>
</tr>
</tbody></table>
<h3 id="å®šæ€§å½±å“"><a href="#å®šæ€§å½±å“" class="headerlink" title="å®šæ€§å½±å“"></a>å®šæ€§å½±å“</h3><p><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼ˆn&#x3D;15, beta æµ‹è¯•ï¼‰ï¼š</p>
<blockquote>
<p>â€œç»ˆäºä¸ç”¨å¼€ 10 ä¸ªæ ‡ç­¾é¡µäº†ï¼Œé—®ä¸€å¥å°±èƒ½çŸ¥é“è¯¾ç¨‹ä»€ä¹ˆæ—¶å€™å¼€â€<br>â€œæ¯”å­¦æ ¡æ•™åŠ¡å¤„çš„å›å¤å¿«å¤šäº†ï¼Œè€Œä¸”æ•°æ®å‡†ç¡®â€</p>
</blockquote>
<p><strong>æ•™æˆåé¦ˆ</strong>ï¼ˆè´¾å»ºæ°‘æ•™æˆï¼‰ï¼š</p>
<ul>
<li>âœ… è®¤å¯æ•°æ®é©±åŠ¨æ–¹æ³•ï¼ˆvs. äººå·¥ç¼–è¾‘è¯¾ç¨‹è¯„ä»·ï¼‰</li>
<li>å»ºè®®ï¼šå¢åŠ â€å­¦æœŸå‹åŠ›æ¨¡æ‹Ÿâ€åŠŸèƒ½ï¼ˆå¦‚æœé€‰äº† A+B+Cï¼Œæ€» workload å¦‚ä½•ï¼‰</li>
<li>å»ºè®®ï¼šç»†åŒ–è¯¾ç¨‹è¯„ä»·ç²’åº¦ï¼ˆéš¾ç‚¹åœ¨å“ªã€å¸¸è§å‘ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸ”-Lessons-Learnedï¼šæŠ€æœ¯å€ºåŠ¡ä¸è®¾è®¡æƒè¡¡"><a href="#ğŸ”-Lessons-Learnedï¼šæŠ€æœ¯å€ºåŠ¡ä¸è®¾è®¡æƒè¡¡" class="headerlink" title="ğŸ” Lessons Learnedï¼šæŠ€æœ¯å€ºåŠ¡ä¸è®¾è®¡æƒè¡¡"></a>ğŸ” Lessons Learnedï¼šæŠ€æœ¯å€ºåŠ¡ä¸è®¾è®¡æƒè¡¡</h2><h3 id="1-æ•°æ®è´¨é‡-æ¨¡å‹èƒ½åŠ›"><a href="#1-æ•°æ®è´¨é‡-æ¨¡å‹èƒ½åŠ›" class="headerlink" title="1. æ•°æ®è´¨é‡ &gt; æ¨¡å‹èƒ½åŠ›"></a>1. æ•°æ®è´¨é‡ &gt; æ¨¡å‹èƒ½åŠ›</h3><p><strong>å‘ç°</strong>ï¼šGemini 2.5 Flash + å¹²å‡€ä¸Šä¸‹æ–‡ ä¼˜äº GPT-4 + å™ªå£°æ•°æ®</p>
<p><strong>è¯æ®</strong>ï¼šåœ¨â€è¯¾ç¨‹å…ˆä¿®æŸ¥è¯¢â€ä»»åŠ¡ä¸­ï¼š</p>
<ul>
<li>GPT-4 (æ—  RAG)ï¼šå‡†ç¡®ç‡ 62% ï¼ˆé â€è®°å¿†â€å›ç­”ï¼Œç»å¸¸è¿‡æ—¶ï¼‰</li>
<li>Gemini Flash (Hybrid Context)ï¼šå‡†ç¡®ç‡ 96.8%</li>
</ul>
<p><strong>å¯ç¤º</strong>ï¼šä¸å…¶èŠ±æ—¶é—´è°ƒå‚&#x2F;æ¢æ¨¡å‹ï¼Œä¸å¦‚ä¼˜å…ˆæ¸…æ´—æ•°æ®</p>
<h3 id="2-é”™è¯¯å¤„ç†-ç”¨æˆ·ä½“éªŒ"><a href="#2-é”™è¯¯å¤„ç†-ç”¨æˆ·ä½“éªŒ" class="headerlink" title="2. é”™è¯¯å¤„ç† &#x3D; ç”¨æˆ·ä½“éªŒ"></a>2. é”™è¯¯å¤„ç† &#x3D; ç”¨æˆ·ä½“éªŒ</h3><p><strong>åé¢æ¡ˆä¾‹</strong>ï¼šæ—©æœŸç‰ˆæœ¬é‡åˆ°è¯¾ç¨‹ä¸åœ¨çŸ¥è¯†åº“æ—¶ï¼ŒLLM ä¼šâ€ç¼–é€ â€ç­”æ¡ˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User: URM4160 æ˜¯ä»€ä¹ˆè¯¾ï¼Ÿ</span><br><span class="line">System (é”™è¯¯): è¿™æ˜¯ä¸€é—¨å…³äºåŸå¸‚ç®¡ç†çš„è¯¾ç¨‹... (å®é™…ä¸ŠçŸ¥è¯†åº“é‡Œæ²¡æœ‰è¿™é—¨è¯¾)</span><br></pre></td></tr></table></figure>

<p><strong>æ”¹è¿›</strong>ï¼šæ˜¾å¼æ ‡è®°æ•°æ®ç¼ºå¤±</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> course_code <span class="keyword">not</span> <span class="keyword">in</span> knowledge_base:</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;status&quot;</span>: <span class="string">&quot;NOT_FOUND&quot;</span>,</span><br><span class="line">        <span class="string">&quot;message&quot;</span>: <span class="string">f&quot;å®˜æ–¹æ•°æ®åº“æš‚æ—  <span class="subst">&#123;course_code&#125;</span> çš„ä¿¡æ¯ï¼Œå¯èƒ½åŸå› ï¼š\n&quot;</span></span><br><span class="line">                   <span class="string">&quot;1. è¯¥è¯¾ç¨‹åœ¨ 2025-26 ä¸‰å­¦æœŸå‡æœªå¼€è¯¾\n&quot;</span></span><br><span class="line">                   <span class="string">&quot;2. è¯¾ç¨‹ä»£å·å¯èƒ½æœ‰è¯¯\n&quot;</span></span><br><span class="line">                   <span class="string">&quot;å»ºè®®ï¼šè®¿é—® SIS æ‰‹åŠ¨æœç´¢æˆ–è”ç³»æ•™åŠ¡å¤„&quot;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Compliance-Firstï¼šåˆè§„æ€§è€ƒé‡"><a href="#3-Compliance-Firstï¼šåˆè§„æ€§è€ƒé‡" class="headerlink" title="3. Compliance Firstï¼šåˆè§„æ€§è€ƒé‡"></a>3. Compliance Firstï¼šåˆè§„æ€§è€ƒé‡</h3><p><strong>å†³ç­–</strong>ï¼šåªä½¿ç”¨å®˜æ–¹å…¬å¼€æ•°æ®ï¼ˆåŸ¹å…»æ–¹æ¡ˆ + SISï¼‰ï¼Œä¸æ¥å…¥ç”¨æˆ·ç”Ÿæˆå†…å®¹ï¼ˆå¦‚â€å¡å›­â€è¯„ä»·ï¼‰</p>
<p><strong>åŸå› </strong>ï¼š</p>
<ul>
<li>æ³•å¾‹é£é™©ï¼šUGC å¯èƒ½æ¶‰åŠè¯½è°¤&#x2F;éšç§é—®é¢˜</li>
<li>æ•°æ®è´¨é‡ï¼šä¸»è§‚è¯„ä»·å­˜åœ¨ biasï¼ˆâ€æ°´è¯¾â€å®šä¹‰å› äººè€Œå¼‚ï¼‰</li>
<li>å¯ç»´æŠ¤æ€§ï¼šå®˜æ–¹æ•°æ®æ›´æ–°é¢‘ç‡ä½ï¼Œæ˜“åŒæ­¥</li>
</ul>
<p><strong>æœªæ¥å¯èƒ½æ–¹å‘</strong>ï¼ˆéœ€æ³•åŠ¡å®¡æ ¸ï¼‰ï¼š</p>
<ul>
<li>å…è®¸ç”¨æˆ·æ ‡æ³¨â€å·²é€‰è¿‡æ­¤è¯¾â€ï¼ˆå¸ƒå°”å€¼ï¼Œæ— æ–‡æœ¬è¯„ä»·ï¼‰</li>
<li>èšåˆé€‰è¯¾äººæ•°ç»Ÿè®¡ï¼ˆåŒ¿ååŒ–ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸš€-Future-Roadmap-v1-ï¼šä»â€ä¿¡æ¯æ£€ç´¢â€åˆ°â€æ™ºèƒ½å†³ç­–â€"><a href="#ğŸš€-Future-Roadmap-v1-ï¼šä»â€ä¿¡æ¯æ£€ç´¢â€åˆ°â€æ™ºèƒ½å†³ç­–â€" class="headerlink" title="ğŸš€ Future Roadmap (v1)ï¼šä»â€ä¿¡æ¯æ£€ç´¢â€åˆ°â€æ™ºèƒ½å†³ç­–â€"></a>ğŸš€ Future Roadmap (v1)ï¼šä»â€ä¿¡æ¯æ£€ç´¢â€åˆ°â€æ™ºèƒ½å†³ç­–â€</h2><h3 id="v0-çš„å±€é™æ€§ï¼ˆè‡ªæˆ‘æ‰¹åˆ¤ï¼‰"><a href="#v0-çš„å±€é™æ€§ï¼ˆè‡ªæˆ‘æ‰¹åˆ¤ï¼‰" class="headerlink" title="v0 çš„å±€é™æ€§ï¼ˆè‡ªæˆ‘æ‰¹åˆ¤ï¼‰"></a>v0 çš„å±€é™æ€§ï¼ˆè‡ªæˆ‘æ‰¹åˆ¤ï¼‰</h3><table>
<thead>
<tr>
<th>é™åˆ¶</th>
<th>åŸå› </th>
<th>v1 è§£å†³æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åªæ”¯æŒå•è¯¾ç¨‹æŸ¥è¯¢</strong></td>
<td>æœªå®ç°å¤šè¯¾ç¨‹å¯¹æ¯”é€»è¾‘</td>
<td>å¢åŠ  <code>compare(CSC3100, CSC3160)</code> æ¥å£</td>
</tr>
<tr>
<td><strong>æ— å†å²æ•°æ®</strong></td>
<td>åªæŠ“äº† 3 å­¦æœŸï¼ˆ2025-26, 26-27 Summerï¼‰</td>
<td>å›æº¯æŠ“å– 2023-24, 24-25 æ•°æ®</td>
</tr>
<tr>
<td><strong>æ— ä¸ªæ€§åŒ–</strong></td>
<td>æ‰€æœ‰å­¦ç”Ÿçœ‹åˆ°ç›¸åŒå›ç­”</td>
<td>åŸºäºç”¨æˆ· profileï¼ˆä¸“ä¸š&#x2F;å¹´çº§ï¼‰è°ƒæ•´æ¨èæƒé‡</td>
</tr>
<tr>
<td><strong>å†·å¯åŠ¨é—®é¢˜</strong></td>
<td>æ–°è¯¾ç¨‹ï¼ˆå¦‚ CSC4999ï¼‰æ— å†å²æ•°æ®</td>
<td>ä½¿ç”¨è¯¾ç¨‹å¤§çº²æ–‡æœ¬åš zero-shot æ¨ç†</td>
</tr>
</tbody></table>
<h3 id="æŠ€æœ¯å‡çº§æ–¹å‘"><a href="#æŠ€æœ¯å‡çº§æ–¹å‘" class="headerlink" title="æŠ€æœ¯å‡çº§æ–¹å‘"></a>æŠ€æœ¯å‡çº§æ–¹å‘</h3><h4 id="1-æ™ºèƒ½å­¦æœŸå‹åŠ›ç®¡ç†ï¼ˆProf-Jia-å»ºè®®ï¼‰"><a href="#1-æ™ºèƒ½å­¦æœŸå‹åŠ›ç®¡ç†ï¼ˆProf-Jia-å»ºè®®ï¼‰" class="headerlink" title="1. æ™ºèƒ½å­¦æœŸå‹åŠ›ç®¡ç†ï¼ˆProf. Jia å»ºè®®ï¼‰"></a>1. æ™ºèƒ½å­¦æœŸå‹åŠ›ç®¡ç†ï¼ˆProf. Jia å»ºè®®ï¼‰</h4><p><strong>ç›®æ ‡</strong>ï¼šç”¨æˆ·è¾“å…¥ â€œæˆ‘è¿™å­¦æœŸæƒ³é€‰ CSC3100 + MAT2040 + PHY1002â€ï¼Œç³»ç»Ÿè¾“å‡ºï¼š</p>
<ul>
<li>æ€»å­¦åˆ†ï¼š12</li>
<li>é¢„ä¼° workloadï¼šé«˜ï¼ˆ3 é—¨ç†è®ºè¯¾ï¼‰</li>
<li>å†²çªæ£€æµ‹ï¼šCSC3100 L01 å’Œ MAT2040 L02 æ—¶é—´é‡å </li>
<li>å»ºè®®ï¼šå°† PHY1002 ç§»è‡³ä¸‹å­¦æœŸï¼Œæ¢æˆ GE è¯¾ç¨‹</li>
</ul>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">analyze_semester_load</span>(<span class="params">courses: <span class="type">List</span>[<span class="built_in">str</span>], user_profile: <span class="built_in">dict</span></span>):</span><br><span class="line">    <span class="comment"># 1. æå–æ—¶é—´è¡¨</span></span><br><span class="line">    schedule = build_schedule_matrix(courses)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 2. æ£€æµ‹å†²çª</span></span><br><span class="line">    conflicts = detect_time_conflicts(schedule)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 3. é¢„ä¼° workloadï¼ˆåŸºäºå†å²æ•°æ®ï¼‰</span></span><br><span class="line">    workload = estimate_workload(courses, user_profile[<span class="string">&#x27;gpa&#x27;</span>], user_profile[<span class="string">&#x27;major&#x27;</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 4. ç”Ÿæˆå»ºè®®</span></span><br><span class="line">    <span class="keyword">if</span> workload &gt; THRESHOLD:</span><br><span class="line">        alternatives = suggest_lighter_courses(courses)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;conflicts&quot;</span>: conflicts,</span><br><span class="line">        <span class="string">&quot;workload&quot;</span>: workload,</span><br><span class="line">        <span class="string">&quot;suggestions&quot;</span>: alternatives</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-æ¨¡å‹å‡çº§ï¼šFlash-è·¯ç”±-3-0-æ·±åº¦æ¨ç†"><a href="#2-æ¨¡å‹å‡çº§ï¼šFlash-è·¯ç”±-3-0-æ·±åº¦æ¨ç†" class="headerlink" title="2. æ¨¡å‹å‡çº§ï¼šFlash è·¯ç”± + 3.0 æ·±åº¦æ¨ç†"></a>2. æ¨¡å‹å‡çº§ï¼šFlash è·¯ç”± + 3.0 æ·±åº¦æ¨ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AdaptiveRouter</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">route</span>(<span class="params">self, query: <span class="built_in">str</span>, complexity: <span class="built_in">int</span></span>):</span><br><span class="line">        <span class="keyword">if</span> complexity &lt; <span class="number">3</span>:  <span class="comment"># ç®€å•æŸ¥è¯¢ï¼ˆè¯¾ç¨‹æ—¶é—´ã€å­¦åˆ†ï¼‰</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.gemini_flash.generate(query)</span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># å¤æ‚æŸ¥è¯¢ï¼ˆå­¦æœŸè§„åˆ’ã€å¤šè¯¾ç¨‹å¯¹æ¯”ï¼‰</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.gemini_3_pro.generate(query)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">estimate_complexity</span>(<span class="params">self, query: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># åŸºäºè§„åˆ™ + å°å‹åˆ†ç±»æ¨¡å‹</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;compare&quot;</span> <span class="keyword">in</span> query <span class="keyword">or</span> <span class="string">&quot;plan&quot;</span> <span class="keyword">in</span> query:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">5</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="string">&quot;when&quot;</span> <span class="keyword">in</span> query <span class="keyword">or</span> <span class="string">&quot;who&quot;</span> <span class="keyword">in</span> query:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h4 id="3-æ•°æ®ç²’åº¦æ·±åŒ–"><a href="#3-æ•°æ®ç²’åº¦æ·±åŒ–" class="headerlink" title="3. æ•°æ®ç²’åº¦æ·±åŒ–"></a>3. æ•°æ®ç²’åº¦æ·±åŒ–</h4><ul>
<li><strong>è¯¾ç¨‹å¤§çº²çˆ¬å–</strong>ï¼šä»æ•™æˆä¸ªäººé¡µé¢æŠ“å– syllabus PDFï¼ˆéœ€ opt-inï¼‰</li>
<li><strong>å†å²æˆç»©åˆ†å¸ƒ</strong>ï¼šå¦‚æœå­¦æ ¡å…¬å¼€ï¼Œæ•´åˆ GPA åˆ†å¸ƒæ•°æ®ï¼ˆéšç§åˆè§„ï¼‰</li>
<li><strong>å‰ç½®çŸ¥è¯†å›¾è°±</strong>ï¼šæ„å»ºè¯¾ç¨‹ä¾èµ–å…³ç³»ï¼ˆCSC1001 â†’ CSC3100 â†’ CSC3170ï¼‰</li>
</ul>
<hr>
<h2 id="ğŸ“-Reflections-for-Admissionsï¼šWhat-I-Learned-as-a-Freshman"><a href="#ğŸ“-Reflections-for-Admissionsï¼šWhat-I-Learned-as-a-Freshman" class="headerlink" title="ğŸ“ Reflections for Admissionsï¼šWhat I Learned as a Freshman"></a>ğŸ“ Reflections for Admissionsï¼šWhat I Learned as a Freshman</h2><h3 id="Technical-Growth"><a href="#Technical-Growth" class="headerlink" title="Technical Growth"></a>Technical Growth</h3><p><strong>Before this project</strong>: </p>
<ul>
<li>è®¤ä¸º RAG &#x3D; â€œæŠŠæ–‡æ¡£æ‰”è¿› vector DBâ€</li>
<li>ä¸ç†è§£ context window é™åˆ¶çš„å®é™…å½±å“</li>
<li>ä»æœªåœ¨ç”Ÿäº§ç¯å¢ƒå¤„ç†è¿‡åçˆ¬</li>
</ul>
<p><strong>After</strong>:</p>
<ul>
<li>ç†è§£ Hybrid retrieval åœ¨ç»“æ„åŒ–æ•°æ®åœºæ™¯ä¸‹çš„ä¼˜åŠ¿</li>
<li>å­¦ä¼šäº† trade-off thinkingï¼ˆFlash vs. 3.0 çš„å†³ç­–è¿‡ç¨‹ï¼‰</li>
<li>æŒæ¡äº† Playwright çš„ session ç®¡ç†ã€Windows multiprocessing çš„ pickling é™åˆ¶</li>
</ul>
<h3 id="Soft-Skills"><a href="#Soft-Skills" class="headerlink" title="Soft Skills"></a>Soft Skills</h3><p><strong>Iteration over Perfection</strong>:<br>v0 çš„ç›®æ ‡ä¸æ˜¯â€å®Œç¾ç³»ç»Ÿâ€ï¼Œè€Œæ˜¯â€æœ€å°å¯ç”¨ MVPâ€ã€‚æˆ‘æœ¬å¯ä»¥èŠ± 1 ä¸ªæœˆåš Course Catalog çˆ¬è™«ï¼Œä½†é€‰æ‹©å…ˆç”¨ 3 å­¦æœŸæ•°æ®éªŒè¯éœ€æ±‚ã€‚</p>
<p><strong>User Empathy</strong>:<br>æµ‹è¯•æ—¶å‘ç°ï¼Œå­¦ç”Ÿæ›´åœ¨ä¹â€è¿™å­¦æœŸå¼€ä¸å¼€â€ï¼ˆæ—¶æ•ˆæ€§ï¼‰ï¼Œè€Œéâ€è¿™é—¨è¯¾å†å²ä¸Šå¼€è¿‡å‡ æ¬¡â€ï¼ˆå®Œæ•´æ€§ï¼‰ã€‚è¿™å½±å“äº†æˆ‘å¯¹æ•°æ®ä¼˜å…ˆçº§çš„åˆ¤æ–­ã€‚</p>
<p><strong>Documentation</strong>:<br>å†™è¿™ç¯‡ case study çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ„è¯†åˆ°å¾ˆå¤šâ€æ˜¾è€Œæ˜“è§â€çš„è®¾è®¡å†³ç­–ï¼ˆå¦‚ä¸ºä»€ä¹ˆé€‰ Flask è€Œé FastAPIï¼‰ï¼Œå…¶å®èƒŒåéƒ½æœ‰ trade-offã€‚è®°å½•è¿™äº›æ€è€ƒè®©æˆ‘æ›´æ¸…æ™°è‡ªå·±çš„æŠ€æœ¯åˆ¤æ–­åŠ›ã€‚</p>
<hr>
<h2 id="ğŸ”—-Appendixï¼šæŠ€æœ¯æ ˆä¸ä»£ç ç¤ºä¾‹"><a href="#ğŸ”—-Appendixï¼šæŠ€æœ¯æ ˆä¸ä»£ç ç¤ºä¾‹" class="headerlink" title="ğŸ”— Appendixï¼šæŠ€æœ¯æ ˆä¸ä»£ç ç¤ºä¾‹"></a>ğŸ”— Appendixï¼šæŠ€æœ¯æ ˆä¸ä»£ç ç¤ºä¾‹</h2><h3 id="Technology-Stack"><a href="#Technology-Stack" class="headerlink" title="Technology Stack"></a>Technology Stack</h3><table>
<thead>
<tr>
<th>å±‚çº§</th>
<th>æŠ€æœ¯é€‰å‹</th>
<th>ç‰ˆæœ¬</th>
<th>é€‰æ‹©ç†ç”±</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Frontend</strong></td>
<td>Vanilla JS + Tailwind CSS</td>
<td>-</td>
<td>è½»é‡çº§ï¼Œæ— æ„å»ºæ­¥éª¤</td>
</tr>
<tr>
<td><strong>Backend</strong></td>
<td>Flask</td>
<td>3.0</td>
<td>ç®€å• REST APIï¼ŒPython ç”Ÿæ€å‹å¥½</td>
</tr>
<tr>
<td><strong>LLM</strong></td>
<td>Gemini 2.5 Flash</td>
<td>-</td>
<td>æˆæœ¬ä½ï¼Œå“åº”å¿«</td>
</tr>
<tr>
<td><strong>Crawler</strong></td>
<td>Playwright</td>
<td>1.40</td>
<td>æ”¯æŒ headlessï¼Œæ¯” Selenium è½»é‡</td>
</tr>
<tr>
<td><strong>Data Processing</strong></td>
<td>PyPDF2 + regex</td>
<td>-</td>
<td>PDF ä¸ºæ–‡æœ¬æ ¼å¼ï¼Œæ— éœ€ OCR</td>
</tr>
<tr>
<td><strong>Knowledge Base</strong></td>
<td>JSON files (local)</td>
<td>-</td>
<td>&lt;2K æ–‡æ¡£ï¼Œæ— éœ€æ•°æ®åº“</td>
</tr>
</tbody></table>
<h3 id="æ ¸å¿ƒä»£ç ç‰‡æ®µ"><a href="#æ ¸å¿ƒä»£ç ç‰‡æ®µ" class="headerlink" title="æ ¸å¿ƒä»£ç ç‰‡æ®µ"></a>æ ¸å¿ƒä»£ç ç‰‡æ®µ</h3><h4 id="1-Hybrid-Context-ç»„è£…"><a href="#1-Hybrid-Context-ç»„è£…" class="headerlink" title="1. Hybrid Context ç»„è£…"></a>1. Hybrid Context ç»„è£…</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">build_hybrid_context</span>(<span class="params">course_code: <span class="built_in">str</span>, user_query: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç»„è£…ç»“æ„åŒ–ä¸Šä¸‹æ–‡ï¼Œä¾› Gemini ç”Ÿæˆå›ç­”</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        course_code: è¯¾ç¨‹ä»£å·ï¼ˆå¦‚ CSC1001ï¼‰</span></span><br><span class="line"><span class="string">        user_query: ç”¨æˆ·åŸå§‹é—®é¢˜</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        ç»“æ„åŒ– prompt å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 1. åŠ è½½è¯¾ç¨‹å…ƒæ•°æ®ï¼ˆæ¥è‡ªåŸ¹å…»æ–¹æ¡ˆï¼‰</span></span><br><span class="line">    meta = load_course_meta(course_code)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 2. èšåˆå¤šå­¦æœŸ SIS æ•°æ®</span></span><br><span class="line">    terms_data = []</span><br><span class="line">    <span class="keyword">for</span> term <span class="keyword">in</span> [<span class="string">&quot;2510&quot;</span>, <span class="string">&quot;2520&quot;</span>, <span class="string">&quot;2650&quot;</span>]:</span><br><span class="line">        path = <span class="string">f&quot;courses/<span class="subst">&#123;course_code&#125;</span>/terms/<span class="subst">&#123;term&#125;</span>/metadata.json&quot;</span></span><br><span class="line">        <span class="keyword">if</span> os.path.exists(path):</span><br><span class="line">            terms_data.append(load_json(path))</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 3. ç»“æ„åŒ– prompt</span></span><br><span class="line">    context = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    === Official Course Information ===</span></span><br><span class="line"><span class="string">    Course Code: <span class="subst">&#123;course_code&#125;</span></span></span><br><span class="line"><span class="string">    Course Name: <span class="subst">&#123;meta.get(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;N/A&#x27;</span>)&#125;</span></span></span><br><span class="line"><span class="string">    Description: <span class="subst">&#123;meta.get(<span class="string">&#x27;description&#x27;</span>, <span class="string">&#x27;No description available&#x27;</span>)&#125;</span></span></span><br><span class="line"><span class="string">    Prerequisites: <span class="subst">&#123;meta.get(<span class="string">&#x27;prerequisites&#x27;</span>, <span class="string">&#x27;None&#x27;</span>)&#125;</span></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === Offering History (Recent 3 Semesters) ===</span></span><br><span class="line"><span class="string">    <span class="subst">&#123;format_terms_summary(terms_data)&#125;</span></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === User Query ===</span></span><br><span class="line"><span class="string">    <span class="subst">&#123;user_query&#125;</span></span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    === Instructions ===</span></span><br><span class="line"><span class="string">    - Answer based ONLY on the data above</span></span><br><span class="line"><span class="string">    - If information is missing, explicitly state &quot;å®˜æ–¹æ•°æ®æœªæä¾›&quot;</span></span><br><span class="line"><span class="string">    - Cite specific terms (e.g., &quot;æ ¹æ® 2025-26 ç¬¬ä¸€å­¦æœŸ SIS æ•°æ®...&quot;)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> context</span><br></pre></td></tr></table></figure>

<h4 id="2-Gemini-API-è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ä¿æŠ¤ï¼‰"><a href="#2-Gemini-API-è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ä¿æŠ¤ï¼‰" class="headerlink" title="2. Gemini API è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ä¿æŠ¤ï¼‰"></a>2. Gemini API è°ƒç”¨ï¼ˆå¸¦è¶…æ—¶ä¿æŠ¤ï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pipe</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">call_gemini_with_timeout</span>(<span class="params">prompt: <span class="built_in">str</span>, timeout: <span class="built_in">float</span> = <span class="number">45.0</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä½¿ç”¨ multiprocessing å®ç°ç¡¬è¶…æ—¶ï¼ˆé¿å… Gemini API æŒ‚èµ·ï¼‰</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        prompt: è¾“å…¥ prompt</span></span><br><span class="line"><span class="string">        timeout: è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        æ¨¡å‹å“åº”æ–‡æœ¬</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Raises:</span></span><br><span class="line"><span class="string">        TimeoutError: è¶…è¿‡ timeout ä»æœªè¿”å›</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    parent_conn, child_conn = Pipe()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Windows è¦æ±‚ target æ˜¯é¡¶å±‚å‡½æ•°ï¼ˆä¸èƒ½æ˜¯ lambdaï¼‰</span></span><br><span class="line">    process = mp.Process(</span><br><span class="line">        target=_mp_runner,</span><br><span class="line">        args=(prompt, child_conn)</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    process.start()</span><br><span class="line">    process.join(timeout=timeout)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> process.is_alive():</span><br><span class="line">        process.terminate()</span><br><span class="line">        process.join()</span><br><span class="line">        <span class="keyword">raise</span> TimeoutError(<span class="string">f&quot;Gemini call timeout after <span class="subst">&#123;timeout&#125;</span>s&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> parent_conn.recv()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_mp_runner</span>(<span class="params">prompt: <span class="built_in">str</span>, pipe</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é¡¶å±‚å‡½æ•°ï¼Œç”¨äº Windows multiprocessing&quot;&quot;&quot;</span></span><br><span class="line">    model = genai.GenerativeModel(<span class="string">&quot;gemini-2.5-flash&quot;</span>)</span><br><span class="line">    response = model.generate_content(prompt)</span><br><span class="line">    pipe.send(response.text)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ğŸ“š-References-Further-Reading"><a href="#ğŸ“š-References-Further-Reading" class="headerlink" title="ğŸ“š References &amp; Further Reading"></a>ğŸ“š References &amp; Further Reading</h2><ol>
<li><p><strong>RAG Systems</strong>:</p>
<ul>
<li>Lewis et al. (2020). â€œ<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2005.11401">Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</a>â€œ. NeurIPS 2020.</li>
</ul>
</li>
<li><p><strong>Hybrid Retrieval</strong>:</p>
<ul>
<li>Ma et al. (2023). â€œ<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2310.08319">Fine-Tuning LLaMA for Multi-Stage Text Retrieval</a>â€œ. arXiv preprint.</li>
</ul>
</li>
<li><p><strong>Context Window Management</strong>:</p>
<ul>
<li>OpenAI (2023). â€œ<a target="_blank" rel="noopener" href="https://platform.openai.com/docs/guides/prompt-engineering">Best Practices for Prompt Engineering</a>â€œ.</li>
</ul>
</li>
<li><p><strong>Anti-Scraping Strategies</strong>:</p>
<ul>
<li>Imperva (2022). â€œ<a target="_blank" rel="noopener" href="https://www.imperva.com/learn/application-security/bot-management/">Bot Management Best Practices</a>â€œ.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ğŸ†-Key-Takeawaysï¼ˆ3-å¥â€é‡‘å¥â€ï¼‰"><a href="#ğŸ†-Key-Takeawaysï¼ˆ3-å¥â€é‡‘å¥â€ï¼‰" class="headerlink" title="ğŸ† Key Takeawaysï¼ˆ3 å¥â€é‡‘å¥â€ï¼‰"></a>ğŸ† Key Takeawaysï¼ˆ3 å¥â€é‡‘å¥â€ï¼‰</h2><ol>
<li><p><strong>â€œæ•°æ®æ¶æ„å†³å®šç³»ç»Ÿä¸Šé™ï¼Œæ¨¡å‹åªæ˜¯é€¼è¿‘ä¸Šé™çš„å·¥å…·â€</strong><br>åœ¨ RAG ç³»ç»Ÿä¸­ï¼Œclean + structured data æ¯”é€‰ GPT-4 è¿˜æ˜¯ Gemini æ›´é‡è¦ã€‚</p>
</li>
<li><p><strong>â€œæ˜¾å¼çš„é”™è¯¯å¤„ç†æ¯”éšå¼çš„â€™èªæ˜â€™æ›´å¯é â€</strong><br>è®© LLM æ‰¿è®¤â€æˆ‘ä¸çŸ¥é“â€ï¼ˆ<code>[NORESULT]</code>ï¼‰æ¯”è®©å®ƒâ€çç¼–â€æ›´ç¬¦åˆå·¥ç¨‹å®è·µã€‚</p>
</li>
<li><p><strong>â€œMVP ä¸æ˜¯å·æ‡’ï¼Œè€Œæ˜¯å¿«é€ŸéªŒè¯å‡è®¾çš„ç­–ç•¥â€</strong><br>ä¸å…¶èŠ± 3 ä¸ªæœˆåšâ€å®Œç¾â€çš„ Course Catalog çˆ¬è™«ï¼Œä¸å¦‚ç”¨ 2 å‘¨éªŒè¯â€å­¦ç”ŸçœŸçš„éœ€è¦è¿™ä¸ªåŠŸèƒ½å—â€ã€‚</p>
</li>
</ol>
<hr>
<h2 id="ğŸ“š-v2-å‰çš„æŠ€æœ¯æ·±åŒ–å­¦ä¹ "><a href="#ğŸ“š-v2-å‰çš„æŠ€æœ¯æ·±åŒ–å­¦ä¹ " class="headerlink" title="ğŸ“š v2 å‰çš„æŠ€æœ¯æ·±åŒ–å­¦ä¹ "></a>ğŸ“š v2 å‰çš„æŠ€æœ¯æ·±åŒ–å­¦ä¹ </h2><p>åœ¨ä» MVP åˆ° v2 çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼ˆ11æœˆåº•è‡³12æœˆä¸­æ—¬ï¼‰ï¼Œæˆ‘æ·±åŒ–å­¦ä¹ äº†ä»¥ä¸‹æŠ€æœ¯ï¼š</p>
<h3 id="æ•°æ®é‡‡é›†ä¸å¤„ç†"><a href="#æ•°æ®é‡‡é›†ä¸å¤„ç†" class="headerlink" title="æ•°æ®é‡‡é›†ä¸å¤„ç†"></a>æ•°æ®é‡‡é›†ä¸å¤„ç†</h3><ul>
<li><strong>Playwright</strong>ï¼šä»å®˜æ–¹æ–‡æ¡£å­¦ä¹ æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€ä¼šè¯ç®¡ç†ã€åçˆ¬ç­–ç•¥åº”å¯¹</li>
<li><strong>Gemini Vision API</strong>ï¼šå­¦ä¹ å¦‚ä½•ç”¨ AI å¤„ç† PDF&#x2F;å›¾åƒï¼Œç†è§£ OCR + ç»“æ„åŒ–ç†è§£çš„ä¼˜åŠ¿</li>
<li><strong>æ­£åˆ™è¡¨è¾¾å¼ + AI æ··åˆ</strong>ï¼šç ”ç©¶å¦‚ä½•ç»“åˆè§„åˆ™å’Œ AIï¼Œå¹³è¡¡å‡†ç¡®ç‡ä¸æˆæœ¬</li>
</ul>
<h3 id="ç³»ç»Ÿå·¥ç¨‹"><a href="#ç³»ç»Ÿå·¥ç¨‹" class="headerlink" title="ç³»ç»Ÿå·¥ç¨‹"></a>ç³»ç»Ÿå·¥ç¨‹</h3><ul>
<li><strong>Windows multiprocessing</strong>ï¼šå­¦ä¹  Python åœ¨ Windows ä¸Šçš„è¿›ç¨‹é—´é€šä¿¡ï¼ˆPipe&#x2F;Queueï¼‰ã€pickling æœºåˆ¶</li>
<li><strong>é”™è¯¯å¤„ç†ä¸é‡è¯•</strong>ï¼šç ”ç©¶ exponential backoffã€circuit breaker ç­‰å®¹é”™æ¨¡å¼</li>
<li><strong>æ•°æ®ç»“æ„è®¾è®¡</strong>ï¼šå­¦ä¹ å¦‚ä½•è®¾è®¡å¯æ‰©å±•çš„ JSON schemaï¼ˆæŒ‰è¯¾ç¨‹&#x2F;å­¦æœŸåˆ†ç‰‡ï¼‰</li>
</ul>
<h3 id="RAG-ä¼˜åŒ–"><a href="#RAG-ä¼˜åŒ–" class="headerlink" title="RAG ä¼˜åŒ–"></a>RAG ä¼˜åŒ–</h3><ul>
<li><strong>Context Window ç®¡ç†</strong>ï¼šç ”ç©¶å¦‚ä½•åŠ¨æ€åŠ è½½ä¸Šä¸‹æ–‡ï¼ˆintent-based lazy loadingï¼‰</li>
<li><strong>Hybrid Retrieval</strong>ï¼šå­¦ä¹ ç²¾ç¡®åŒ¹é…ï¼ˆè¯¾ç¨‹ä»£å·ï¼‰+ è¯­ä¹‰æœç´¢ï¼ˆæè¿°ï¼‰çš„æ··åˆç­–ç•¥</li>
</ul>
<hr>
<h2 id="ğŸ™-è‡´è°¢"><a href="#ğŸ™-è‡´è°¢" class="headerlink" title="ğŸ™ è‡´è°¢"></a>ğŸ™ è‡´è°¢</h2><ul>
<li><strong>ä¸¥æ˜æ•™æˆ</strong>å’Œ<strong>è´¾å»ºæ°‘æ•™æˆ</strong>ï¼šåœ¨é¡¹ç›®å…³é”®èŠ‚ç‚¹æä¾›äº†æ·±åº¦çš„æŠ€æœ¯æŒ‡å¯¼å’Œäº§å“å»ºè®®ï¼Œç‰¹åˆ«æ˜¯å…³äºâ€æ•°æ®è´¨é‡ä¼˜å…ˆäºæ¨¡å‹èƒ½åŠ›â€å’Œâ€æ˜¾å¼é”™è¯¯å¤„ç†â€çš„å·¥ç¨‹å“²å­¦ï¼Œå¯¹ç³»ç»Ÿè®¾è®¡äº§ç”Ÿäº†æ·±è¿œå½±å“</li>
<li><strong>å›¢é˜Ÿæˆå‘˜</strong>ï¼šæ„Ÿè°¢å‡ ä½åŒç»„æˆå‘˜åœ¨åˆæœŸå¸®åŠ©é‡‡é›†åŸ¹å…»æ–¹æ¡ˆ PDFã€æ•´ç†è¯¾ç¨‹æ¸…å•ã€ååŠ©å†…æµ‹ç­‰åŸºç¡€å·¥ä½œï¼Œä¸ºåç»­å¼€å‘å’Œä¼˜åŒ–æä¾›äº†åšå®çš„æ•°æ®åŸºç¡€å’Œç”¨æˆ·åé¦ˆ</li>
</ul>
<hr>
<p><em>GitHub Repo (Private): <a target="_blank" rel="noopener" href="https://github.com/Jerry0310no1/holistic-assistant">holistic-assistant</a></em><br><em>Contact: <a href="mailto:&#49;&#50;&#x35;&#48;&#57;&#48;&#x34;&#52;&#x35;&#x40;&#108;&#105;&#x6e;&#x6b;&#x2e;&#x63;&#117;&#x68;&#107;&#x2e;&#x65;&#100;&#x75;&#46;&#x63;&#110;">125090445@link.cuhk.edu.cn</a></em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jerry0310no1.github.io/2025/12/24/holistic-assistant-case-study/" data-id="cuidMiGxKLYhmeUeP-7f8Sar6" data-title="Holistic Assistant: ä¸€ä¸ªé¢å‘ 1500+ å­¦ç”Ÿçš„ RAG å­¦æœ¯é¡¾é—®ç³»ç»Ÿ â€” ä»ä¿¡æ¯ç¢ç‰‡åŒ–åˆ°ç»“æ„åŒ–å†³ç­–" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Flask/" rel="tag">Flask</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Gemini/" rel="tag">Gemini</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Information-Retrieval/" rel="tag">Information Retrieval</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LLM/" rel="tag">LLM</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Playwright/" rel="tag">Playwright</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RAG/" rel="tag">RAG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/System-Design/" rel="tag">System Design</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2025/11/20/holistic-assistant-mvp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">å…¨äººåŠ©æ‰‹ MVPï¼šä»&#34;åŸ¹å…»æ–¹æ¡ˆ PDF&#34;åˆ° AI é©±åŠ¨çš„å­¦ä¸šè§„åˆ’ï¼ˆå¯è¡Œæ€§éªŒè¯ï¼‰</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Diary/">Diary</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technical-Case-Study/">Technical Case Study</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CUHK-SZ/" rel="tag">CUHK-SZ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flask/" rel="tag">Flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gemini/" rel="tag">Gemini</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Holistic-Assistant/" rel="tag">Holistic Assistant</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Information-Retrieval/" rel="tag">Information Retrieval</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLM/" rel="tag">LLM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVP/" rel="tag">MVP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Playwright/" rel="tag">Playwright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prototype/" rel="tag">Prototype</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAG/" rel="tag">RAG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/System-Design/" rel="tag">System Design</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CUHK-SZ/" style="font-size: 10px;">CUHK-SZ</a> <a href="/tags/Flask/" style="font-size: 20px;">Flask</a> <a href="/tags/Gemini/" style="font-size: 20px;">Gemini</a> <a href="/tags/Holistic-Assistant/" style="font-size: 20px;">Holistic Assistant</a> <a href="/tags/Information-Retrieval/" style="font-size: 10px;">Information Retrieval</a> <a href="/tags/LLM/" style="font-size: 10px;">LLM</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Playwright/" style="font-size: 10px;">Playwright</a> <a href="/tags/Prototype/" style="font-size: 10px;">Prototype</a> <a href="/tags/RAG/" style="font-size: 10px;">RAG</a> <a href="/tags/System-Design/" style="font-size: 10px;">System Design</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/12/">December 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">November 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">October 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/12/24/holistic-assistant-case-study/">Holistic Assistant: ä¸€ä¸ªé¢å‘ 1500+ å­¦ç”Ÿçš„ RAG å­¦æœ¯é¡¾é—®ç³»ç»Ÿ â€” ä»ä¿¡æ¯ç¢ç‰‡åŒ–åˆ°ç»“æ„åŒ–å†³ç­–</a>
          </li>
        
          <li>
            <a href="/2025/11/20/holistic-assistant-mvp/">å…¨äººåŠ©æ‰‹ MVPï¼šä»&#34;åŸ¹å…»æ–¹æ¡ˆ PDF&#34;åˆ° AI é©±åŠ¨çš„å­¦ä¸šè§„åˆ’ï¼ˆå¯è¡Œæ€§éªŒè¯ï¼‰</a>
          </li>
        
          <li>
            <a href="/2025/10/02/hello-world/">ç¬¬ä¸€æ¬¡æ³¨å†Œï¼šå…¨äººåŠ©æ‰‹å·²ç»åœ¨è·¯ä¸Š</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 JiaRUI Lou<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/projects" class="mobile-nav-link">Projects</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>